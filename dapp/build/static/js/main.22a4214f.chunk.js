(this["webpackJsonp@smart-invoice/dapp"]=this["webpackJsonp@smart-invoice/dapp"]||[]).push([[0],{1021:function(e,t){},1106:function(e,t){},1108:function(e,t){},1115:function(e,t){},1116:function(e,t){},1140:function(e,t){},1147:function(e,t){},1206:function(e,t){},1301:function(e,t){},1328:function(e,t){},1330:function(e,t){},1336:function(e,t){},1338:function(e,t){},1347:function(e,t){},1349:function(e,t){},1356:function(e,t){},1358:function(e,t){},1364:function(e,t){},1365:function(e,t){},1377:function(e,t){},1379:function(e,t){},1389:function(e,t){},1391:function(e,t){},1397:function(e,t){},1405:function(e,t){},1407:function(e,t){},1417:function(e,t){},1419:function(e,t){},1438:function(e,t){},1442:function(e,t){},1444:function(e,t){},1648:function(e,t,n){"use strict";n.r(t);var r,c,a,o,i,s,l=n(0),d=n.n(l),u=n(262),j=n.n(u),b=(n(776),n(43)),h=n(259),m=n(315),f=n(79),x=n(95),O=n(58),p=n(10),g=n(11),v=n(12),w=n(13),y=n(725),C=n(26),k=n(28),S=function(e){var t=new Date(e?1e3*e:0),n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(t),r=new Intl.DateTimeFormat("en",{month:"long"}).format(t),c=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(t);return"".concat(r," ").concat(c,", ").concat(n)},A=function(e){try{return Object(C.a)(e).toLowerCase()}catch(t){return!1}},E=function(e){return k.m[e]||"Unknown Chain"},D=function(e){return k.h[e]||k.h[4]},I=function(e){return k.g[e]||k.g[4]},T=function(e){return k.p[e]||k.p[4]},W=function(e){return k.o[e]||k.o[4]},R=function(e,t){return(k.n[e]||k.n[4])[t]},z=function(e){return k.r[e]||k.r[4]},N=function(e,t){return(k.q[e]||k.q[4])[t]||{decimals:18,symbol:"UNKNOWN"}},P=function(e){return k.s[e]||k.s[4]},F=function(e){return k.j[e]||k.j[4]},L=function(e,t){return"".concat(I(e),"/tx/").concat(t)},V=function(e,t){return"".concat(I(e),"/address/").concat(t)},U=function(e){return"QmNLei78zWmzUdbeRB3CiUfAizWUrbeeZh5K1rhAQKCh51"===e?"":"".concat(k.c,"/ipfs/").concat(e)},_=function(e){var t=e.length;return"0x".concat(e.substr(2,3).toUpperCase(),"...").concat(e.substr(t-3,t-1).toUpperCase())},H=function(e,t){return-1!==W(e).indexOf(t.toLowerCase())},B=function(e,t){var n=R(e,t);return n?n.name:_(t)},M=function(e){console.error(e)},K=function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},Y=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/,G=/^[a-zA-Z2-7]+=*$/,Z=/^[1-9A-HJ-NP-Za-km-z]+=*$/,$=function(e){return!!e&&(e.startsWith("ipfs://")?59===(t=e.slice(7)).length&&t.startsWith("bafy")&&!!G.test(t)||46===t.length&&t.startsWith("Qm")&&!!Z.test(t):(n=e,!!Y.test(n)));var t,n},q=function(e){return k.i[e]||k.i.rinkeby},X=function(e){return k.l[e]||"unknown"},Q=n(1),J=function(e){Object(v.a)(n,e);var t=Object(w.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(g.a)(n,[{key:"componentDidCatch",value:function(e,t){M({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state.hasError,t=this.props.children;return e?Object(Q.jsxs)(y.c,{justify:"center",align:"center",direction:"column",w:"100%",minH:"100vh",background:"black",color:"red.500",children:[Object(Q.jsx)(y.j,{fontSize:"lg",children:" Something went wrong "}),Object(Q.jsx)(y.j,{children:" Please check console for errors "})]}):t}}],[{key:"getDerivedStateFromError",value:function(e){return e?{hasError:!0}:{hasError:!1}}}]),n}(d.a.Component),ee=n(33),te=n(14),ne=n(17),re=n(2),ce=n.n(re),ae=n(729),oe=n(744),ie=n(65),se=n(738),le=n.n(se),de=n(104),ue=n(107),je=n.p+"static/media/calendar-red.2413d1e3.svg",be=n.p+"static/media/calendar.34daa311.svg",he=Object(ee.a)(Object(ee.a)({},ue.a),{},{initialColorMode:"dark",useSystemColorMode:!1,colors:Object(ee.a)(Object(ee.a)({},ue.a.colors),{},{red:Object(ee.a)(Object(ee.a)({},ue.a.colors.red),{},{200:"#ffe2eb",300:"#ffb1c3",400:"#ff7f9c",500:"#ff3864",600:"#b30027",700:"#81001c",800:"#4f0010",900:"#200005"}),green:"#38FF88",background:"#262626",white10:"rgba(255,255,255,0.1)",white20:"rgba(255,255,255,0.2)",black30:"rgba(0,0,0,0.3)",black80:"rgba(0,0,0,0.8)",grey:"#A4A4A4",borderGrey:"#505050",greyText:"#ABABAB",purple:"#702b89",red50:"rgba(255, 56, 100, 0.5)"}),fonts:Object(ee.a)(Object(ee.a)({},ue.a.fonts),{},{mono:"'Rubik Mono One', sans-serif",heading:"'Rubik One', sans-serif",body:"'Roboto', sans-serif"})}),me=Object(f.b)(r||(r=Object(de.a)(["\n  /*\n    This will hide the focus indicator if the element receives focus via the mouse,\n    but it will still show up on keyboard focus.\n  */\n  .js-focus-visible :focus:not([data-focus-visible-added]) {\n    box-shadow: none;\n  }\n  *:focus {\n    outline: none;\n    border-color: "," !important;\n    box-shadow: 0 0 0 1px "," !important;\n  }\n  input[type='date']::-webkit-calendar-picker-indicator {\n    opacity: 1;\n    display: block;\n    background: url(",") no-repeat;\n    background-size: contain !important;\n    width: 14px;\n    height: 14px;\n    border-width: thin;\n    cursor: pointer;\n    transition: background 0.25s;\n    &:hover {\n      background: url(",") no-repeat;\n      background-size: contain;\n    }\n    &:hover,\n    &:focus,\n    &:active {\n      background-size: contain;\n      outline: none;\n    }\n  }\n  select option {\n    background: "," !important;\n    color: ",";\n  }\n  body {\n    font-family: ",";\n    background: ",";\n    color: ",";\n  }\n  .web3modal-modal-lightbox {\n    zindex: 20;\n  }\n"])),he.colors.purple,he.colors.purple,be,je,he.colors.black,he.colors.white,he.fonts.body,he.colors.black,he.colors.white),fe={walletconnect:{package:oe.a,options:{rpc:{1:T(1),4:T(4),42:T(42),100:T(100)}}}},xe=new ae.SafeAppWeb3Modal({cacheProvider:!0,providerOptions:fe,theme:{background:he.colors.background,main:he.colors.red[500],secondary:he.colors.white,hover:he.colors.black30}}),Oe=Object(l.createContext)(),pe=function(e){var t=e.children,n=Object(l.useState)(!0),r=Object(ne.a)(n,2),c=r[0],a=r[1],o=Object(l.useState)({}),i=Object(ne.a)(o,2),s=i[0],d=s.account,u=s.provider,j=s.chainId,b=i[1],h=function(){var e=Object(te.a)(ce.a.mark((function e(t){var n,r,c,a,o,i,s=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],!t){e.next=14;break}if(r=new le.a(t),c=new ie.a.providers.Web3Provider(r.currentProvider),a=Number(t.chainId),!n){e.next=13;break}return o=c.getSigner(),e.next=9,o.getAddress();case 9:i=e.sent,b((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{provider:c,chainId:a,account:i})})),e.next=14;break;case 13:b((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{provider:c,chainId:a})}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){k.e.indexOf(j)}),[j]);var m=Object(l.useCallback)(Object(te.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,xe.requestProvider();case 4:return t=e.sent,e.next=7,h(t,!0);case 7:!!t.safe||(t.on("accountsChanged",(function(e){b((function(t){return Object(ee.a)(Object(ee.a)({},t),{},{account:e[0]})}))})),t.on("chainChanged",(function(){h(t)}))),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),M({web3ModalError:e.t0}),e.t0;case 15:return e.prev=15,a(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])}))),[]),f=Object(l.useCallback)(Object(te.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe.clearCachedProvider(),b({});case 2:case"end":return e.stop()}}),e)}))),[]);return Object(l.useEffect)((function(){window.ethereum&&(window.ethereum.autoRefreshOnNetworkChange=!1),function(){var e=Object(te.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.canAutoConnect();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=xe.cachedProvider;case 5:if(!e.t0){e.next=9;break}m(),e.next=10;break;case 9:a(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[m]),Object(Q.jsx)(Oe.Provider,{value:{loading:c,account:d,provider:u,chainId:j,connectAccount:m,disconnect:f},children:t})},ge=n(590),ve=n(173),we=n(265),ye=["children","overlay"],Ce=function(e){var t=e.children,n=e.overlay,r=Object(we.a)(e,ye),c="undefined"!==typeof CSS&&null!=CSS.supports&&(CSS.supports("-webkit-backdrop-filter","blur(1px)")||CSS.supports("backdrop-filter","blur(1px)"))?{backgroundColor:"black30",backdropFilter:"blur(8px)"}:{backgroundColor:"black80"};return Object(Q.jsx)(y.c,Object(ee.a)(Object(ee.a)({justify:"center",align:"center",direction:"column",w:"calc(100% - 2rem)",h:"100%",flex:1,m:"1rem",border:"2px solid ".concat(he.colors.red[500]),css:n?c:{}},r),{},{children:t}))},ke=ve.a.NETWORK_CONFIG,Se=Object.keys(ke),Ae=function(){var e=Object(ge.a)({base:!0,md:!1});return Object(Q.jsxs)(Ce,{overlay:!0,color:"white",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",mx:"1rem",textTransform:"uppercase",textAlign:"center",color:"red.500",children:"Contracts"}),Se.map((function(t){var n=F(t),r=z(t);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(y.j,{textAlign:"center",children:["NETWORK CHAIN ID: ",t]}),Object(Q.jsxs)(y.j,{textAlign:"center",children:["INVOICE FACTORY:"," ",Object(Q.jsx)(y.g,{href:V(t,n),isExternal:!0,color:"red.500",children:e?_(n):n})]}),r.map((function(n){return Object(Q.jsxs)(y.j,{textAlign:"center",children:["ERC20 TOKEN ".concat(N(t,n).symbol,": "),Object(Q.jsx)(y.g,{href:V(t,n),isExternal:!0,color:"red.500",children:e?_(n):n})]},n)})),Object(Q.jsx)("br",{})]})}))]})},Ee=n(721),De=n(140),Ie=n(38),Te=n(168),We=function(){var e=Object(te.a)(ce.a.mark((function e(t,n,r,c,a,o,i,s,l){var d,u;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=new De.utils.Interface(["function create(address client, address provider, uint8 resolverType, address resolver, address token, uint256[] calldata amounts, uint256 terminationTime, bytes32 details) public"]),u=new Te.b(F(t),d,n.getSigner()),0,e.abrupt("return",u.create(r,c,0,a,o,i,s,l));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,c,a,o,i,s,l){return e.apply(this,arguments)}}(),Re=function(){var e=Object(te.a)(ce.a.mark((function e(t,n,r){var c,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De.utils.isAddress(r)){e.next=2;break}return e.abrupt("return",20);case 2:return e.prev=2,c=new De.utils.Interface(["function resolutionRates(address resolver) public view returns (uint256)"]),a=new Te.b(F(t),c,n),e.t0=Number,e.next=8,a.resolutionRates(r);case 8:return e.t1=e.sent,o=(0,e.t0)(e.t1),e.abrupt("return",o>0?o:20);case 13:return e.prev=13,e.t2=e.catch(2),M({resolutionRateError:e.t2}),e.abrupt("return",20);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ze=function(){var e=Object(te.a)(ce.a.mark((function e(t,n){var r,c,a,o,i,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.wait(1);case 2:return r=new De.utils.Interface(["event LogNewInvoice(uint256 indexed id, address invoice, uint256[] amounts)"]),e.next=5,t.getTransactionReceipt(n.hash);case 5:if(c=e.sent,a=r.events[Object.keys(r.events)[0]],o=r.getEventTopic(a),!(i=c.logs.find((function(e){return e.topics[0]===o})))){e.next=12;break}return s=r.decodeEventLog(a,i.data,i.topics),e.abrupt("return",s.invoice);case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(te.a)(ce.a.mark((function e(t,n){var r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new De.utils.Interface(["function release() public"]),c=new Te.b(n,r,t.getSigner()),e.abrupt("return",c.release());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(te.a)(ce.a.mark((function e(t,n){var r,c;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new De.utils.Interface(["function withdraw() public"]),c=new Te.b(n,r,t.getSigner()),e.abrupt("return",c.withdraw());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(te.a)(ce.a.mark((function e(t,n,r){var c,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new De.utils.Interface(["function lock(bytes32 details) external"]),a=new Te.b(n,c,t.getSigner()),e.abrupt("return",a.lock(r));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Le=function(){var e=Object(te.a)(ce.a.mark((function e(t,n,r,c,a){var o,i;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new De.utils.Interface(["function resolve(uint256 clientAward, uint256 providerAward, bytes32 details) external"]),i=new Te.b(n,o,t.getSigner()),e.abrupt("return",i.resolve(r,c,a));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,c,a){return e.apply(this,arguments)}}(),Ve=n(225),Ue=De.utils.isAddress,_e=Object(l.createContext)(),He=function(e){var t=e.children,n=Object(l.useContext)(Oe),r=n.provider,c=n.chainId,a=W(c),o=P(c),i=Object(l.useState)(""),s=Object(ne.a)(i,2),d=s[0],u=s[1],j=Object(l.useState)(""),b=Object(ne.a)(j,2),h=b[0],m=b[1],f=Object(l.useState)(""),x=Object(ne.a)(f,2),O=x[0],p=x[1],g=Object(l.useState)(),v=Object(ne.a)(g,2),w=v[0],y=v[1],C=Object(l.useState)(),k=Object(ne.a)(C,2),S=k[0],A=k[1],E=Object(l.useState)(),D=Object(ne.a)(E,2),I=D[0],T=D[1],R=Object(l.useState)(""),z=Object(ne.a)(R,2),N=z[0],F=z[1],L=Object(l.useState)(""),V=Object(ne.a)(L,2),U=V[0],_=V[1],H=Object(l.useState)(""),B=Object(ne.a)(H,2),K=B[0],Y=B[1],G=Object(l.useState)(Ie.a.from(0)),Z=Object(ne.a)(G,2),q=Z[0],X=Z[1],J=Object(l.useState)(o),ee=Object(ne.a)(J,2),re=ee[0],ae=ee[1],oe=Object(l.useState)("1"),ie=Object(ne.a)(oe,2),se=ie[0],le=ie[1],de=Object(l.useState)(!1),ue=Object(ne.a)(de,2),je=ue[0],be=ue[1],he=Object(l.useState)(a[0]),me=Object(ne.a)(he,2),fe=me[0],xe=me[1],pe=Object(l.useState)([Ie.a.from(0)]),ge=Object(ne.a)(pe,2),ve=ge[0],we=ge[1],ye=Object(l.useState)(),Ce=Object(ne.a)(ye,2),ke=Ce[0],Se=Ce[1],Ae=Object(l.useState)(!1),Ee=Object(ne.a)(Ae,2),De=Ee[0],Te=Ee[1],Re=Object(l.useState)(1),ze=Object(ne.a)(Re,2),Ne=ze[0],Pe=ze[1],Fe=Object(l.useState)(!1),Le=Object(ne.a)(Fe,2),He=Le[0],Be=Le[1],Me=Object(l.useMemo)((function(){return d&&$(O)&&I&&I>(new Date).getTime()}),[d,O,I]),Ke=Object(l.useMemo)((function(){return Ue(U)&&Ue(K)&&Ue(re)&&Ue(fe)&&q.gt(0)&&!isNaN(Number(se))&&se>0&&je&&4===Array.from(new Set([U.toLowerCase(),K.toLowerCase(),re.toLowerCase(),fe.toLowerCase()])).length}),[U,K,re,fe,q,se,je]),Ye=Object(l.useMemo)((function(){return ve.reduce((function(e,t){return e.add(t)}),Ie.a.from(0)).eq(q)}),[ve,q]);Object(l.useEffect)((function(){Me&&2===Ne&&Object(Ve.b)({projectName:d,projectDescription:h,projectAgreement:O,startDate:Math.floor(w/1e3),endDate:Math.floor(S/1e3)}).catch((function(e){M({ipfsError:e})})).then((function(e){return F(e)}))}),[Me,Ne,d,h,O,w,S]);var Ge=Object(l.useCallback)(Object(te.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Me&&Ke&&Ye&&N)){e.next=8;break}return Te(!0),Se(),e.next=5,We(c,r,U,K,fe,re,ve,Math.floor(I/1e3),N).catch((function(e){throw M({registerError:e}),Te(!1),e}));case 5:t=e.sent,Se(t),Te(!1);case 8:case"end":return e.stop()}}),e)}))),[c,r,U,K,fe,re,ve,I,N,Me,Ke,Ye]);Object(l.useEffect)((function(){Be(1===Ne?Me:2===Ne?Ke:3===Ne?Ye:4===Ne)}),[Me,Ke,Ye,Ne]);var Ze=Object(l.useCallback)((function(){if(He){if(4===Ne)return Ge();Pe((function(e){return e+1}))}return function(){}}),[He,Ne,Ge]);return Object(Q.jsx)(_e.Provider,{value:{projectName:d,projectDescription:h,projectAgreement:O,startDate:w,endDate:S,safetyValveDate:I,clientAddress:U,paymentAddress:K,paymentDue:q,paymentToken:re,milestones:se,termsAccepted:je,arbitrationProvider:fe,payments:ve,tx:ke,setProjectName:u,setProjectDescription:m,setProjectAgreement:p,setStartDate:y,setEndDate:A,setSafetyValveDate:T,setClientAddress:_,setPaymentAddress:Y,setPaymentDue:X,setPaymentToken:ae,setMilestones:le,setTermsAccepted:be,setArbitrationProvider:xe,setPayments:we,loading:De,createInvoice:Ge,currentStep:Ne,nextStepEnabled:He,goBackHandler:function(){return Pe((function(e){return e-1}))},nextStepHandler:Ze},children:t})},Be=function(){var e=Object(te.a)(ce.a.mark((function e(t){var n,r,c,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toLowerCase(),r={address:n,name:"",emoji:"",imageHash:"",imageUrl:"https://avatars.dicebear.com/api/jdenticon/".concat(n,".svg")},e.next=4,fetch("".concat(k.a,"/profile?address=").concat(encodeURIComponent(n)));case 4:if(!(c=e.sent).ok||200!==c.status){e.next=13;break}return e.next=8,c.json();case 8:a=e.sent,(o=a&&a.image&&a.image[0]&&a.image[0].contentUrl&&a.image[0].contentUrl["/"])&&(r.imageHash=o,r.imageUrl="".concat(k.c,"/ipfs/").concat(o)),r.name=a.name,r.emoji=a.emoji;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(e){var t=e.address,n=e.chainId,r=Object(l.useContext)(Oe).chainId,c=t.toLowerCase(),a=Object(l.useState)(),o=Object(ne.a)(a,2),i=o[0],s=o[1],d=n||r,u=H(d,c);Object(l.useEffect)((function(){var e=!0;return!u&&De.utils.isAddress(c)&&Be(c).then((function(t){return e?s(t):void 0})),function(){e=!1}}),[c,u]);var j=B(d,c),b=u?R(d,c).logoUrl:void 0;return!u&&i&&(i.name&&(j=i.name),i.imageUrl&&(b=i.imageUrl)),Object(Q.jsxs)(y.g,{href:V(d,c),isExternal:!0,display:"inline-flex",textAlign:"right",bgColor:"black30",px:"0.25rem",_hover:{textDecor:"none",bgColor:"white20"},borderRadius:"5px",alignItems:"center",fontWeight:"bold",children:[Object(Q.jsx)(y.c,{as:"span",borderRadius:"50%",w:"1.1rem",h:"1.1rem",overflow:"hidden",justify:"center",align:"center",bgColor:"black",bgImage:b&&"url(".concat(b,")"),border:"1px solid ".concat(he.colors.white20),bgSize:"cover",bgRepeat:"no-repeat",bgPosition:"center center"}),Object(Q.jsx)(y.j,{as:"span",pl:"0.25rem",fontSize:"sm",children:j})]})},Ke=function(e){var t=e.display,n=Object(l.useContext)(Oe).chainId,r=Object(l.useContext)(_e),c=r.projectName,a=r.projectDescription,o=r.projectAgreement,i=r.clientAddress,s=r.paymentAddress,d=r.startDate,u=r.endDate,j=r.safetyValveDate,b=r.arbitrationProvider,h=r.milestones,m=r.paymentDue,f=r.paymentToken,x=N(n,f),O=x.decimals,p=x.symbol;return Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",color:"white",align:"stretch",display:t,children:[Object(Q.jsx)(y.j,{id:"project-title",fontWeight:"bold",fontSize:"xl",children:c}),a&&Object(Q.jsx)(y.j,{children:a}),Object(Q.jsx)(y.g,{href:o,isExternal:!0,mb:"1rem",textDecor:"underline",children:o}),Object(Q.jsxs)(y.c,{justify:"space-between",children:[Object(Q.jsx)(y.j,{children:"Client Address: "}),Object(Q.jsx)(Me,{address:i})]}),Object(Q.jsxs)(y.c,{justify:"space-between",children:[Object(Q.jsx)(y.j,{children:"Payment Address: "}),Object(Q.jsx)(Me,{address:s})]}),d&&Object(Q.jsxs)(y.c,{justify:"space-between",children:[Object(Q.jsx)(y.j,{children:"Project Start Date: "}),Object(Q.jsx)(y.j,{textAlign:"right",children:S(d/1e3)})]}),u&&Object(Q.jsxs)(y.c,{justify:"space-between",children:[Object(Q.jsx)(y.j,{children:"Expected End Date: "}),Object(Q.jsx)(y.j,{textAlign:"right",children:S(u/1e3)})]}),Object(Q.jsxs)(y.c,{justify:"space-between",children:[Object(Q.jsx)(y.j,{children:"Safety Valve Date: "}),Object(Q.jsx)(y.j,{textAlign:"right",children:S(j/1e3)})]}),Object(Q.jsxs)(y.c,{justify:"space-between",children:[Object(Q.jsx)(y.j,{children:"Arbitration Provider: "}),Object(Q.jsx)(Me,{address:b})]}),Object(Q.jsx)(y.b,{color:"black",w:"calc(100% + 2rem)",transform:"translateX(-1rem)"}),Object(Q.jsxs)(y.c,{justify:"flex-end",children:[Object(Q.jsx)(y.j,{children:"".concat(h," ").concat(h>1?"Payments":"Payment")}),Object(Q.jsx)(y.j,{color:"red.500",ml:"2.5rem",fontWeight:"bold",children:"".concat(De.utils.formatUnits(m,O)," ").concat(p," Total")})]})]})},Ye=n(716),Ge=function(e){var t=e.display,n=Object(l.useContext)(Oe).chainId,r=Object(l.useContext)(_e),c=r.paymentToken,a=r.milestones,o=r.payments,i=r.setPayments,s=r.paymentDue,d=N(n,c),u=d.decimals,j=d.symbol;return Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",display:t,children:[Array.from(Array(Number(a))).map((function(e,t){return Object(Q.jsxs)(y.k,{w:"100%",spacing:"0.5rem",children:[Object(Q.jsxs)(y.c,{justify:"space-between",w:"100%",children:[Object(Q.jsxs)(y.j,{fontWeight:"700",children:["Payment #",t+1]}),Object(Q.jsx)(y.c,{})]}),Object(Q.jsxs)(Ye.b,{children:[Object(Q.jsx)(Ye.a,{bg:"black",type:"text",color:"white",border:"none",pr:"3.5rem",onChange:function(e){if(e.target.value&&!isNaN(Number(e.target.value))){var n=De.utils.parseUnits(e.target.value,u),r=o.slice();r[t]=n,i(r)}}}),Object(Q.jsx)(Ye.d,{color:"white",w:"3.5rem",children:j})]})]},t.toString())})),Object(Q.jsxs)(y.j,{w:"100%",textAlign:"right",color:"grey",fontWeight:"bold",children:["Total Amount Must Add Up to ",De.utils.formatUnits(s,u)," ",j]})]})},Ze=n(720),$e=n(717),qe=n(718),Xe=n(719),Qe=n(116),Je=Object(Qe.a)({displayName:"QuestionIcon",path:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("path",{d:"M7.5 1.5C9.09135 1.5 10.6172 2.13222 11.7428 3.25725C12.8678 4.38284 13.5 5.90865 13.5 7.5C13.5 9.09135 12.8678 10.6172 11.7428 11.7428C10.6172 12.8678 9.09135 13.5 7.5 13.5C5.90865 13.5 4.38285 12.8678 3.25725 11.7428C2.13225 10.6172 1.5 9.09135 1.5 7.5C1.5 5.90865 2.13222 4.38285 3.25725 3.25725C4.38284 2.13225 5.90865 1.5 7.5 1.5ZM7.5 0C5.5107 0 3.603 0.790425 2.19675 2.19675C0.7905 3.60308 0 5.51085 0 7.5C0 9.48915 0.790425 11.397 2.19675 12.8033C3.60308 14.2095 5.51085 15 7.5 15C9.48915 15 11.397 14.2096 12.8033 12.8033C14.2095 11.3969 15 9.48915 15 7.5C15 5.51085 14.2096 3.603 12.8033 2.19675C11.3969 0.7905 9.48915 0 7.5 0V0Z",fill:"currentColor"}),Object(Q.jsx)("path",{d:"M5.72192 6.18754H5.16117C5.1266 6.18754 5.10141 6.18754 5.10258 6.1395C5.10609 5.75805 5.18578 5.38129 5.33637 5.03091C5.54086 4.59379 5.89242 4.24224 6.32953 4.03833C7.03852 3.69555 7.85594 3.65512 8.59484 3.927C9.12159 4.09809 9.54522 4.49478 9.74972 5.00982C9.87452 5.33443 9.91847 5.68482 9.87862 6.02994C9.83995 6.45474 9.64425 6.84966 9.32959 7.13677C9.08935 7.36939 8.83155 7.58677 8.57959 7.80415V7.80474C8.38213 7.95181 8.22744 8.14869 8.12959 8.37427C8.06924 8.55181 8.03584 8.73756 8.03057 8.92506C8.03057 8.99127 8.02002 9.05865 8.01709 9.12427C8.01944 9.13833 8.01475 9.15181 8.00479 9.16177C7.99541 9.17173 7.98135 9.17583 7.96787 9.17407H6.9794C6.96651 9.17759 6.95362 9.17407 6.94366 9.16529C6.93429 9.1565 6.93018 9.14302 6.93253 9.13072C6.92784 8.80552 6.96124 8.4815 7.03155 8.16451C7.1294 7.83521 7.31867 7.53989 7.57764 7.31431C7.79972 7.10864 8.02764 6.90181 8.23155 6.68443V6.68384C8.41085 6.50455 8.53214 6.27602 8.58135 6.02701C8.66221 5.60572 8.5046 5.29342 8.10147 5.14634C7.71182 4.99693 7.27881 5.01275 6.90147 5.19029C6.64542 5.31568 6.46319 5.55357 6.40929 5.83365C6.38644 5.9274 6.37062 6.02232 6.36125 6.11841C6.36418 6.14068 6.35539 6.16294 6.33839 6.17759C6.32199 6.19224 6.29914 6.19751 6.27746 6.19224H5.7302L5.72192 6.18754Z",fill:"currentColor"}),Object(Q.jsx)("path",{d:"M7.4912 9.89999C7.66874 9.8953 7.841 9.96502 7.96523 10.0922C8.08945 10.2193 8.15507 10.3928 8.14628 10.5703C8.14042 10.9347 7.84042 11.226 7.47596 11.2201C7.11151 11.2142 6.82088 10.9142 6.82675 10.5492C6.82382 10.374 6.89355 10.2047 7.01893 10.0822C7.1449 9.95914 7.31542 9.89352 7.49119 9.89997L7.4912 9.89999Z",fill:"currentColor"})]}),viewBox:"0 0 15 15"}),et=["label","value","setValue","infoText","tooltip","placeholder","type"],tt=["label","value","setValue","infoText","tooltip","placeholder","isInvalid","isDisabled","type","error"],nt=function(e){var t=e.label,n=(e.value,e.setValue),r=e.infoText,c=e.tooltip,a=e.placeholder,o=e.type,i=void 0===o?"text":o,s=Object(we.a)(e,et),d=Object(l.useState)("https://"),u=Object(ne.a)(d,2),j=u[0],b=u[1],h=Object(l.useState)(""),m=Object(ne.a)(h,2),f=m[0],x=m[1],O=Object(l.useState)(!1),p=Object(ne.a)(O,2),g=p[0],v=p[1];return Object(Q.jsxs)(y.k,Object(ee.a)(Object(ee.a)({w:"100%",spacing:"0.5rem",justify:"space-between"},s),{},{children:[Object(Q.jsxs)(y.c,{justify:"space-between",w:"100%",children:[Object(Q.jsx)(y.j,{fontWeight:"700",children:t}),Object(Q.jsxs)(y.c,{children:[r&&Object(Q.jsx)(y.j,{fontSize:"xs",children:r}),c&&Object(Q.jsx)($e.a,{label:c,placement:"auto-start",children:Object(Q.jsx)(Je,{ml:"1rem",boxSize:"0.75rem"})})]})]}),Object(Q.jsxs)(y.c,{direction:"column",w:"100%",children:[Object(Q.jsxs)(Ye.b,{children:[Object(Q.jsx)(Ye.c,{w:"6.75rem",overflow:"hidden",borderLeftRadius:"0.375rem",borderRightColor:"background",borderRightWidth:"3px",children:Object(Q.jsxs)(qe.a,{onChange:function(e){var t=e.target.value,r=t+f,c=$(r);n(r),v(!c),b(t)},value:j,bg:"none",color:"white",border:"none",fontWeight:"bold",borderRadius:"none",children:[Object(Q.jsx)("option",{value:"https://",children:"https://"}),Object(Q.jsx)("option",{value:"ipfs://",children:"ipfs://"})]})}),Object(Q.jsx)(Ye.a,{pl:"7.25rem",bg:"black",type:i,value:f,maxLength:240,onChange:function(e){var t=e.target.value,r=j;t.startsWith("https://")&&t.length>8?(r="https://",t=t.slice(8)):t.startsWith("ipfs://")&&t.length>7&&(r="ipfs://",t=t.slice(7));var c=r+t,a=$(c);n(c),v(!a),x(t),b(r)},placeholder:a,color:"white",border:"none",isInvalid:g,_invalid:{border:"1px solid",borderColor:"purple"}})]}),g&&Object(Q.jsx)(y.j,{w:"100%",color:"purple",textAlign:"right",fontSize:"xs",fontWeight:"700",mt:"0.5rem",children:"Invalid URL"})]})]}))},rt=function(e){var t=e.label,n=e.value,r=e.setValue,c=e.infoText,a=e.tooltip,o=e.placeholder,i=e.isInvalid,s=void 0!==i&&i,l=e.isDisabled,d=void 0!==l&&l,u=e.type,j=void 0===u?"text":u,b=e.error,h=void 0===b?"":b,m=Object(we.a)(e,tt);return Object(Q.jsxs)(y.k,Object(ee.a)(Object(ee.a)({w:"100%",spacing:"0.5rem",justify:"space-between"},m),{},{children:[Object(Q.jsxs)(y.c,{justify:"space-between",w:"100%",children:[Object(Q.jsx)(y.j,{fontWeight:"700",children:t}),Object(Q.jsxs)(y.c,{children:[c&&Object(Q.jsx)(y.j,{fontSize:"xs",children:c}),a&&Object(Q.jsx)($e.a,{label:a,placement:"auto-start",children:Object(Q.jsx)(Je,{ml:"1rem",boxSize:"0.75rem"})})]})]}),Object(Q.jsxs)(y.c,{direction:"column",w:"100%",children:[Object(Q.jsx)(Ye.a,{bg:"black",type:j,value:n,onChange:function(e){return r(e.target.value)},placeholder:o,color:"white",border:"none",isDisabled:d,isInvalid:s,_invalid:{border:"1px solid",borderColor:"purple"}}),h&&Object(Q.jsx)(y.j,{w:"100%",color:"purple",textAlign:"right",fontSize:"xs",fontWeight:"700",mt:"0.5rem",children:h})]})]}))},ct=function(e){var t=e.label,n=e.value,r=e.setValue,c=e.infoText,a=e.tooltip,o=e.isDisabled,i=void 0!==o&&o,s=e.children;return Object(Q.jsxs)(y.k,{w:"100%",spacing:"0.5rem",justify:"space-between",children:[Object(Q.jsxs)(y.c,{justify:"space-between",w:"100%",children:[Object(Q.jsx)(y.j,{fontWeight:"700",children:t}),Object(Q.jsxs)(y.c,{children:[c&&Object(Q.jsx)(y.j,{fontSize:"xs",children:c}),a&&Object(Q.jsx)($e.a,{label:a,placement:"auto-start",children:Object(Q.jsx)(Je,{ml:"1rem",boxSize:"0.75rem"})})]})]}),Object(Q.jsx)(qe.a,{value:n,onChange:function(e){r(e.target.value)},bg:"black",color:"white",border:"none",isDisabled:i,children:s})]})},at=function(e){var t=e.label,n=e.value,r=e.setValue,c=e.infoText,a=e.tooltip,o=e.placeholder,i=e.maxLength,s=e.isDisabled,l=void 0!==s&&s,d=e.type,u=void 0===d?"text":d;return Object(Q.jsxs)(y.k,{w:"100%",spacing:"0.5rem",justify:"space-between",color:"red.500",children:[Object(Q.jsxs)(y.c,{justify:"space-between",w:"100%",children:[Object(Q.jsx)(y.j,{fontWeight:"700",children:t}),Object(Q.jsxs)(y.c,{children:[c&&Object(Q.jsx)(y.j,{fontSize:"xs",children:c}),a&&Object(Q.jsx)($e.a,{label:a,placement:"auto-start",children:Object(Q.jsx)(Je,{ml:"1rem",boxSize:"0.75rem"})})]})]}),Object(Q.jsx)(Xe.a,{bg:"black",type:u,value:n,onChange:function(e){return r(e.target.value)},placeholder:o,color:"white",border:"none",isDisabled:l,h:"4rem",resize:"none",maxLength:i})]})},ot=function(e){var t=e.display,n=Object(l.useContext)(Oe),r=n.chainId,c=n.provider,a=Object(l.useMemo)((function(){return W(r)}),[r]),o=Object(l.useMemo)((function(){return z(r)}),[r]),i=Object(l.useContext)(_e),s=i.clientAddress,d=i.setClientAddress,u=i.paymentAddress,j=i.setPaymentAddress,b=i.paymentToken,h=i.setPaymentToken,m=i.paymentDue,f=i.setPaymentDue,x=i.milestones,O=i.setMilestones,p=i.arbitrationProvider,g=i.setArbitrationProvider,v=i.setPayments,w=i.termsAccepted,C=i.setTermsAccepted,k=Object(l.useMemo)((function(){return N(r,b)}),[r,b]),S=k.decimals,A=k.symbol,E=Object(l.useState)("0"),D=Object(ne.a)(E,2),I=D[0],T=D[1],P=Object(l.useState)(""),F=Object(ne.a)(P,2),L=F[0],V=F[1],U=Object(l.useState)(!1),_=Object(ne.a)(U,2),M=_[0],K=_[1],Y=Object(l.useState)(!1),G=Object(ne.a)(Y,2),Z=G[0],$=G[1],q=Object(l.useState)(!1),X=Object(ne.a)(q,2),J=X[0],ee=X[1],te=Object(l.useState)(!1),re=Object(ne.a)(te,2),ce=re[0],ae=re[1],oe=Object(l.useState)(!1),ie=Object(ne.a)(oe,2),se=ie[0],le=ie[1],de=Object(l.useState)(20),ue=Object(ne.a)(de,2),je=ue[0],be=ue[1];return Object(l.useEffect)((function(){Re(r,c,p).then(be)}),[r,c,p]),Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",display:t,children:[Object(Q.jsx)(rt,{label:"Client Address",value:s,isInvalid:M,setValue:function(e){d(e),K(!De.utils.isAddress(e))},error:M?"Invalid Address":"",tooltip:"This will be the address used to access the invoice"}),Object(Q.jsx)(rt,{label:"Service Provider Address",value:u,isInvalid:Z,setValue:function(e){j(e),$(!De.utils.isAddress(e))},error:Z?"Invalid Address":"",tooltip:"Recipient of the funds"}),Object(Q.jsxs)(y.h,{w:"100%",columns:{base:2,sm:3},spacing:"1rem",mb:ce?"-0.5rem":"",children:[Object(Q.jsx)(rt,{label:"Total Payment Due",type:"number",value:L,isInvalid:ce,setValue:function(e){if(V(e),e&&!isNaN(Number(e))){var t=De.utils.parseUnits(e,S);f(t),ae(t.lte(0))}else f(Ie.a.from(0)),ae(!0)}}),Object(Q.jsx)(ct,{value:b,setValue:h,label:"Payment Token",children:o.map((function(e){return Object(Q.jsx)("option",{value:e,children:N(r,e).symbol},e)}))}),Object(Q.jsx)(rt,{gridArea:{base:"2/1/2/span 2",sm:"auto/auto/auto/auto"},label:"Number of Payments",type:"number",value:x,isInvalid:se,setValue:function(e){var t=e?Number(e):1;O(e),v(Array(t).fill(1).map((function(){return Ie.a.from(0)}))),le(isNaN(Number(e))||0===Number(e))},tooltip:"Number of milestones in which the total payment will be processed"})]}),(ce||se)&&Object(Q.jsx)(y.j,{w:"100%",color:"purple",textAlign:"right",fontSize:"xs",fontWeight:"700",children:"Payment must be greater than 0"}),Object(Q.jsxs)(y.h,{w:"100%",columns:2,spacing:"1rem",children:[Object(Q.jsxs)(ct,{tooltip:"Arbitration provider that will be used in case of a dispute",value:I,setValue:function(e){T(e),H(r,e)?(g(e),C(!1)):(g(""),ee(!1),C(!0))},label:"Arbitration Provider",children:[a.map((function(e){return Object(Q.jsx)("option",{value:e,children:R(r,e).name},e)})),Object(Q.jsx)("option",{value:"custom",children:"Custom"})]}),Object(Q.jsx)(rt,{label:"Max Dispute Fee",type:"text",value:"".concat(De.utils.formatUnits(m.div(je),S)," ").concat(A),setValue:function(){},tooltip:"In case a dispute arises, ".concat(100/je,"% of the remaining funds will be deducted towards dispute resolution as an arbitration fee"),isDisabled:!0})]}),H(r,p)?Object(Q.jsxs)(Ze.a,{isChecked:w,onChange:function(e){return C(e.target.checked)},colorScheme:"red",border:"none",size:"lg",fontSize:"1rem",color:"white",children:["I agree to ".concat(B(r,p)," "),Object(Q.jsx)(y.g,{href:R(r,p).termsUrl,isExternal:!0,textDecor:"underline",children:"terms of service"})]}):Object(Q.jsx)(rt,{tooltip:"This will be the address used to resolve any disputes on the invoice",label:"Arbitration Provider Address",value:p,setValue:function(e){g(e),ee(!De.utils.isAddress(e))},isInvalid:J,error:J?"Invalid Address":""})]})},it=function(e){var t=new Date(e),n="".concat(t.getUTCMonth()+1);n.length<2&&(n="0".concat(n));var r="".concat(t.getUTCDate());return r.length<2&&(r="0".concat(r)),[t.getUTCFullYear(),n,r].join("-")},st=function(e){var t=e.display,n=Object(l.useContext)(_e),r=n.startDate,c=n.setStartDate,a=n.endDate,o=n.setEndDate,i=n.safetyValveDate,s=n.setSafetyValveDate,d=n.projectName,u=n.setProjectName,j=n.projectDescription,b=n.setProjectDescription,h=n.projectAgreement,m=n.setProjectAgreement,f=r?it(r):"",x=a?it(a):"",O=i?it(i):"",p=Object(l.useState)(!1),g=Object(ne.a)(p,2),v=g[0],w=g[1],C=Object(l.useState)(!1),k=Object(ne.a)(C,2),S=k[0],A=k[1];return Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",display:t,children:[Object(Q.jsx)(rt,{label:"Project Name or ID",value:d,setValue:function(e){u(e),w(""===e)},isInvalid:v,error:v?"Cannot be empty":""}),Object(Q.jsx)(nt,{label:"Link to Project Agreement",value:h,setValue:m,tooltip:"This agreement will be referenced in the case of a dispute"}),Object(Q.jsx)(at,{label:"Project Description",value:j,setValue:b,infoText:"140 character limit \u2022 optional",maxLength:"140"}),Object(Q.jsxs)(y.h,{w:"100%",spacing:"1rem",columns:{base:1,sm:2,md:3},mb:S?"-0.5rem":"",children:[Object(Q.jsx)(rt,{label:"Project Start Date",type:"date",value:f,setValue:function(e){return c(Date.parse(e))},infoText:"optional"}),Object(Q.jsx)(rt,{label:"Expected End Date",type:"date",value:x,setValue:function(e){return o(Date.parse(e))},infoText:"optional"}),Object(Q.jsx)(rt,{gridArea:{base:"auto/auto/auto/auto",sm:"2/1/2/span 2",md:"auto/auto/auto/auto"},label:"Safety Valve Date",type:"date",value:O,setValue:function(e){var t=Date.parse(e);s(t),A(t<(new Date).getTime())},tooltip:"The funds can be withdrawn by the client after 00:00:00 GMT on this date.",isInvalid:S})]}),S&&Object(Q.jsx)(y.j,{w:"100%",color:"purple",textAlign:"right",fontSize:"xs",fontWeight:"700",children:S?"Invalid Safety Valve Date: Already Passed":""})]})},lt=n(172),dt=n.n(lt),ut=n(50),jt=n(1665),bt=k.e.reduce((function(e,t){return Object(ee.a)(Object(ee.a)({},e),{},Object(ut.a)({},t,Object(jt.a)({url:D(t),exchanges:[jt.b,jt.c]})))}),{}),ht=dt()(c||(c=Object(de.a)(["\n  fragment InvoiceDetails on Invoice {\n    id\n    address\n    network\n    token\n    client\n    provider\n    resolverType\n    resolver\n    resolutionRate\n    isLocked\n    amounts\n    numMilestones\n    currentMilestone\n    total\n    disputeId\n    released\n    createdAt\n    terminationTime\n    projectName\n    projectDescription\n    projectAgreement\n    startDate\n    endDate\n    deposits(orderBy: timestamp, orderDirection: asc) {\n      txHash\n      sender\n      amount\n      timestamp\n    }\n    releases(orderBy: timestamp, orderDirection: asc) {\n      txHash\n      milestone\n      amount\n      timestamp\n    }\n    disputes(orderBy: timestamp, orderDirection: asc) {\n      txHash\n      ipfsHash\n      sender\n      details\n      timestamp\n    }\n    resolutions(orderBy: timestamp, orderDirection: asc) {\n      txHash\n      ipfsHash\n      clientAward\n      providerAward\n      resolutionFee\n      timestamp\n    }\n  }\n"]))),mt=dt()(a||(a=Object(de.a)(["\n  query GetInvoice($address: ID!) {\n    invoice(id: $address) {\n      ...InvoiceDetails\n    }\n  }\n  ","\n"])),ht),ft=function(){var e=Object(te.a)(ce.a.mark((function e(t,n){var r,c,a,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A(n)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,bt[t].query(mt,{address:r}).toPromise();case 5:if(c=e.sent,a=c.data,o=c.error,console.log({data:a,error:o}),a){e.next=13;break}if(!o){e.next=12;break}throw o;case 12:return e.abrupt("return",null);case 13:return e.abrupt("return",a.invoice);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xt=Object(Qe.a)({displayName:"CopyIcon",path:Object(Q.jsx)("path",{d:"m271 512h-191c-44.113281 0-80-35.886719-80-80v-271c0-44.113281 35.886719-80 80-80h191c44.113281 0 80 35.886719 80 80v271c0 44.113281-35.886719 80-80 80zm-191-391c-22.054688 0-40 17.945312-40 40v271c0 22.054688 17.945312 40 40 40h191c22.054688 0 40-17.945312 40-40v-271c0-22.054688-17.945312-40-40-40zm351 261v-302c0-44.113281-35.886719-80-80-80h-222c-11.046875 0-20 8.953125-20 20s8.953125 20 20 20h222c22.054688 0 40 17.945312 40 40v302c0 11.046875 8.953125 20 20 20s20-8.953125 20-20zm0 0",fill:"currentColor"}),viewBox:"-40 0 512 512"}),Ot=function(e){var t=e.size,n=void 0===t?"38":t;return Object(Q.jsx)("svg",{width:n,height:n,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",children:Object(Q.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(Q.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[Object(Q.jsx)("circle",{strokeOpacity:".3",cx:"18",cy:"18",r:"18"}),Object(Q.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:Object(Q.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})},pt=function(){var e=Object(l.useContext)(Oe),t=e.chainId,n=e.provider,r=Object(l.useContext)(_e).tx,c=Object(l.useState)(),a=Object(ne.a)(c,2),o=a[0],i=a[1],s=Object(l.useState)(),d=Object(ne.a)(s,2),u=d[0],j=d[1],b=Object(O.g)();return Object(l.useEffect)((function(){r&&n&&ze(n,r).then((function(e){i(e.toLowerCase())}))}),[r,n]),Object(l.useEffect)((function(){if(!De.utils.isAddress(o)||u)return function(){};var e=!0,n=setInterval((function(){ft(t,o).then((function(t){e&&t&&j(t)}))}),5e3);return function(){e=!1,clearInterval(n)}}),[t,o,u]),Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",align:"center",justify:"center",my:"8rem",maxW:"30rem",px:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",textAlign:"center",children:u?"Invoice Registered":"Invoice Registration Received"}),Object(Q.jsxs)(y.j,{color:"white",textAlign:"center",fontSize:"sm",children:[u?"You can view your transaction ":"You can check the progress of your transaction ",Object(Q.jsx)(y.g,{href:L(t,r.hash),isExternal:!0,color:"red.500",textDecoration:"underline",children:"here"})]}),u?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(y.k,{w:"100%",align:"stretch",children:[Object(Q.jsx)(y.j,{fontWeight:"bold",children:"Your Invoice ID"}),Object(Q.jsxs)(y.c,{p:"0.5rem",justify:"space-between",align:"center",bg:"background",borderRadius:"0.25rem",w:"100%",children:[Object(Q.jsx)(y.g,{ml:"0.5rem",href:"/invoice/".concat(q(u.network),"/").concat(u.id),color:"white",overflow:"hidden",children:u.id}),document.queryCommandSupported("copy")&&Object(Q.jsx)(Ee.a,{ml:4,onClick:function(){return K(u.id)},variant:"ghost",colorScheme:"red",h:"auto",w:"auto",minW:"2",p:2,children:Object(Q.jsx)(xt,{boxSize:4})})]})]}),Object(Q.jsxs)(y.k,{w:"100%",align:"stretch",mb:"1.5rem",children:[Object(Q.jsx)(y.j,{fontWeight:"bold",children:"Link to Invoice"}),Object(Q.jsxs)(y.c,{p:"0.5rem",justify:"space-between",align:"center",bg:"background",borderRadius:"0.25rem",w:"100%",children:[Object(Q.jsx)(y.g,{ml:"0.5rem",href:"/invoice/".concat(q(u.network),"/").concat(u.id),color:"white",overflow:"hidden",children:"".concat(window.location.origin,"/invoice/").concat(q(u.network),"/").concat(u.id)}),document.queryCommandSupported("copy")&&Object(Q.jsx)(Ee.a,{ml:4,onClick:function(){return K("".concat(window.location.origin,"/invoice/").concat(q(u.network),"/").concat(u.id))},variant:"ghost",colorScheme:"red",h:"auto",w:"auto",minW:"2",p:2,children:Object(Q.jsx)(xt,{boxSize:4})})]})]})]}):Object(Q.jsx)(y.c,{py:"3rem",children:Object(Q.jsx)(Ot,{size:"80"})}),Object(Q.jsx)(Ee.a,{w:"100%",variant:"outline",colorScheme:"red",textTransform:"uppercase",fontFamily:"mono",fontWeight:"normal",size:"lg",onClick:function(){return b.push("/")},children:"Return Home"})]})},gt=function(e){var t=e.stepNum,n=e.stepTitle,r=e.stepDetails,c=Object(ge.a)({base:"30rem",lg:"20rem"});return Object(Q.jsxs)(y.k,{spacing:"1rem",maxW:c,align:"stretch",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",fontSize:"xl",children:"Create a Smart Invoice"}),Object(Q.jsxs)(y.j,{color:"white",children:["Step ",t,": ",n]}),r.map((function(e,t){return Object(Q.jsx)(y.j,{color:"grey",fontSize:"sm",children:e},t.toString())}))]})},vt=function(){var e=Object(l.useContext)(_e),t=e.tx,n=e.loading,r=e.currentStep,c=e.nextStepEnabled,a=e.goBackHandler,o=e.nextStepHandler,i=Object(ge.a)({base:"sm",sm:"md",md:"lg"});return Object(Q.jsx)(Ce,{overlay:!0,children:t?Object(Q.jsx)(pt,{}):Object(Q.jsxs)(y.i,{direction:{base:"column",lg:"row"},spacing:"2rem",align:"center",justify:"center",w:"100%",px:"1rem",my:"8rem",children:[Object(Q.jsx)(gt,{stepNum:r,stepTitle:k.d[r].step_title,stepDetails:k.d[r].step_details}),Object(Q.jsxs)(y.k,{spacing:{base:"1.5rem",lg:"1rem"},w:{base:"100%",md:"auto"},children:[Object(Q.jsxs)(y.c,{bg:"background",direction:"column",justify:"space-between",p:"1rem",borderRadius:"0.5rem",w:"100%",children:[Object(Q.jsx)(st,{display:1===r?"flex":"none"}),Object(Q.jsx)(ot,{display:2===r?"flex":"none"}),Object(Q.jsx)(Ge,{display:3===r?"flex":"none"}),Object(Q.jsx)(Ke,{display:4===r?"flex":"none"})]}),Object(Q.jsxs)(y.d,{templateColumns:"1fr 4fr",gap:"1rem",w:"100%",children:[1!==r?Object(Q.jsx)(Ee.a,{colorScheme:"red",variant:"outline",onClick:a,size:i,fontFamily:"mono",fontWeight:"normal",children:"BACK"}):Object(Q.jsx)(y.c,{}),Object(Q.jsx)(Ee.a,{colorScheme:"red",onClick:o,isLoading:n,isDisabled:!c,textTransform:"uppercase",size:i,fontFamily:"mono",fontWeight:"normal",children:4===r?k.d[r].next:"next: ".concat(k.d[r].next)})]})]})]})})},wt=Object(O.i)((function(e){return Object(Q.jsx)(He,{children:Object(Q.jsx)(vt,Object(ee.a)({},e))})})),yt=n(42),Ct=n(723),kt=function(e){var t=e.isOpen,n=e.onClose,r=Object(ge.a)({base:"sm",sm:"md",md:"lg"});return Object(Q.jsx)(Ct.a,{isOpen:t,onClose:n,isCentered:!0,children:Object(Q.jsx)(Ct.d,{children:Object(Q.jsxs)(Ct.c,{p:"2rem",maxW:"40rem",background:"black",borderRadius:"0",borderWidth:"2px",borderColor:"red.500",color:"white",children:[Object(Q.jsx)(Ct.b,{color:"red.500",size:"lg",_hover:{bgColor:"white20"},top:"0",right:"0"}),Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",textTransform:"uppercase",textAlign:"center",children:"Safe, Efficient Payment"}),Object(Q.jsx)(y.j,{children:"Smart invoice builds trust between payer and payee by creating a secure neutral channel for transferring money. The payer proves their committment by locking money in the contract, and controls when it is released to the payee. No middle party, no leap of faith, and you don\u2019t even have to use the word escrow if you don\u2019t want to."}),Object(Q.jsxs)(y.j,{w:"100%",children:["If you have more questions,"," ",Object(Q.jsx)(y.g,{href:"https://docs.smartinvoice.xyz",textDecor:"underline",isExternal:!0,children:"check out our FAQ."})]}),Object(Q.jsxs)(y.j,{w:"100%",mb:"1rem",children:["You can read more about the future of payment at"," ",Object(Q.jsx)(y.g,{href:"https://discord.gg/CanD2WcK7W",textDecor:"underline",isExternal:!0,children:"Lyght Code"}),"."]}),Object(Q.jsx)(Ee.a,{colorScheme:"red",onClick:n,size:r,fontFamily:"mono",fontWeight:"normal",children:"Got it. Thanks"})]})]})})})},St=function(){var e=Object(l.useContext)(Oe),t=e.connectAccount,n=e.account,r=Object(O.g)(),c=function(){var e=Object(te.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}r.push("/create"),e.next=13;break;case 4:return e.prev=4,e.next=7,t();case 7:r.push("/create"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),M("Couldn't connect web3 wallet");case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(te.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}r.push("/invoices"),e.next=13;break;case 4:return e.prev=4,e.next=7,t();case 7:r.push("/invoices"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),M("Couldn't connect web3 wallet");case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),o=Object(ge.a)({base:"sm",sm:"md",md:"lg"}),i=Object(ge.a)({base:"sm",sm:"md"}),s=Object(ge.a)({base:"lg",sm:"xl",md:"2xl"}),d=Object(ge.a)({base:!0,sm:!1}),u=Object(ge.a)({base:!0,lg:!1}),j=Object(yt.e)(),b=j.isOpen,h=j.onOpen,m=j.onClose;return Object(Q.jsxs)(Ce,{justify:{base:"space-between",lg:"flex-start"},direction:{base:"column",lg:"row"},pt:{base:"6rem",sm:"8rem",lg:"0rem"},children:[Object(Q.jsxs)(y.c,{direction:"column",align:"stretch",m:{base:"1rem",md:"2rem",lg:"4rem"},mr:{base:"1rem",md:"2rem",lg:"2rem"},w:{base:"22rem",sm:"28rem",lg:"32rem"},maxW:"calc(100% - 2rem)",children:[Object(Q.jsx)(Ee.a,{colorScheme:"red",onClick:c,size:o,fontFamily:"mono",fontWeight:"normal",children:d?"CREATE NEW INVOICE":"CREATE A NEW SMART INVOICE"}),Object(Q.jsx)(y.j,{fontWeight:"bold",my:"0.5rem",w:"100%",textAlign:"center",fontSize:{base:"md",md:"xl"},children:"or"}),Object(Q.jsx)(Ee.a,{colorScheme:"red",onClick:a,size:o,fontFamily:"mono",fontWeight:"normal",children:"VIEW EXISTING INVOICE"}),Object(Q.jsx)(Ee.a,{mt:"2rem",variant:"link",color:"white",textDecor:"underline",size:o,fontSize:s,onClick:h,fontFamily:"mono",fontWeight:"normal",mx:"auto",w:"auto",children:"What is this?"}),Object(Q.jsx)(kt,{isOpen:b,onClose:m})]}),Object(Q.jsx)(y.c,Object(ee.a)(Object(ee.a)({},u?{}:{width:"100%",justify:"flex-end",align:"flex-end",justifySelf:"flex-end",alignSelf:"flex-end"}),{},{py:"3rem",m:"1rem",children:Object(Q.jsxs)(y.k,{bgColor:"background",p:u?"1rem":"2rem",color:"white",spacing:"1rem",maxW:"32rem",children:[Object(Q.jsx)(y.j,{fontFamily:"mono",textAlign:"center",fontSize:o,children:"This product is in beta!"}),Object(Q.jsx)(y.j,{fontSize:i,children:"The contracts Smart Invoice uses are thoroughly tested, but not audited. Raid Guild does not own the contracts created by this service, and does not control the money stored in them. Use at your own risk."}),Object(Q.jsx)(y.g,{href:"https://docs.smartinvoice.xyz",textDecor:"underline",isExternal:!0,fontSize:i,children:"Learn more about staying safe."})]})}))]})},At=n(66),Et=dt()(o||(o=Object(de.a)(["\n  query Search($search: String, $first: Int) {\n    invoices(\n      first: $first\n      where: { projectName_contains: $search }\n      orderBy: createdAt\n      orderDirection: desc\n    ) {\n      ...InvoiceDetails\n    }\n  }\n  ","\n"])),ht),Dt=dt()(i||(i=Object(de.a)(['\n  query AddressSearch($search: Bytes, $first: Int) {\n    addressInvoices: invoices(\n      first: $first\n      where: { address_contains: $search, projectName_not: "" }\n      orderBy: createdAt\n      orderDirection: desc\n    ) {\n      ...InvoiceDetails\n    }\n    clientInvoices: invoices(\n      first: $first\n      where: { client_contains: $search, projectName_not: "" }\n      orderBy: createdAt\n      orderDirection: desc\n    ) {\n      ...InvoiceDetails\n    }\n    providerInvoices: invoices(\n      first: $first\n      where: { provider_contains: $search, projectName_not: "" }\n      orderBy: createdAt\n      orderDirection: desc\n    ) {\n      ...InvoiceDetails\n    }\n    resolverInvoices: invoices(\n      first: $first\n      where: { resolver_contains: $search, projectName_not: "" }\n      orderBy: createdAt\n      orderDirection: desc\n    ) {\n      ...InvoiceDetails\n    }\n  }\n  ',"\n"])),ht),It=function(){var e=Object(te.a)(ce.a.mark((function e(t,n){var r,c,a,o,i,s,l=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]?l[2]:10,c=A(n),a=c?Dt:Et,e.next=5,bt[t].query(a,{first:r,search:c||n}).toPromise();case 5:if(o=e.sent,i=o.data,s=o.error,i){e.next=12;break}if(!s){e.next=11;break}throw s;case 11:return e.abrupt("return",void 0);case 12:return e.abrupt("return",c?[].concat(Object(At.a)(i.addressInvoices),Object(At.a)(i.clientInvoices),Object(At.a)(i.providerInvoices),Object(At.a)(i.resolverInvoices)):i.invoices);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tt=Object(l.createContext)(),Wt=function(e){var t=e.children,n=Object(l.useContext)(Oe).chainId,r=Object(l.useState)(!1),c=Object(ne.a)(r,2),a=c[0],o=c[1],i=Object(l.useState)(""),s=Object(ne.a)(i,2),d=s[0],u=s[1],j=Object(l.useState)(),b=Object(ne.a)(j,2),h=b[0],m=b[1];return Object(l.useEffect)((function(){d?(o(!0),It(n,d).then((function(e){m(e),o(!1)})).catch((function(e){M({searchError:e}),m(),o(!1)}))):m(void 0)}),[n,d]),Object(Q.jsx)(Tt.Provider,{value:{search:d,setSearch:u,fetching:a,result:h},children:t})},Rt=function(){var e=Object(te.a)(ce.a.mark((function e(t,n,r){var c,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new De.utils.Interface(["function balanceOf(address account) view returns(uint256)"]),a=new Te.b(n,c,t),e.abrupt("return",a.balanceOf(r));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),zt=Object(Qe.a)({displayName:"SearchIcon",path:Object(Q.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9649 14.2549H15.7549L20.7449 19.2549L19.2549 20.7449L14.2549 15.7549V14.9649L13.9849 14.6849C12.8449 15.6649 11.3649 16.2549 9.75488 16.2549C6.16488 16.2549 3.25488 13.3449 3.25488 9.75488C3.25488 6.16488 6.16488 3.25488 9.75488 3.25488C13.3449 3.25488 16.2549 6.16488 16.2549 9.75488C16.2549 11.3649 15.6649 12.8449 14.6849 13.9849L14.9649 14.2549ZM5.25488 9.75488C5.25488 12.2449 7.26488 14.2549 9.75488 14.2549C12.2449 14.2549 14.2549 12.2449 14.2549 9.75488C14.2549 7.26488 12.2449 5.25488 9.75488 5.25488C7.26488 5.25488 5.25488 7.26488 5.25488 9.75488Z",fill:"currentColor"}),viewBox:"0 0 24 24"}),Nt=function(e){var t=function(e){var t=Object(l.useContext)(Oe).provider,n=Object(l.useState)(!0),r=Object(ne.a)(n,2),c=r[0],a=r[1],o=Object(l.useState)(!1),i=Object(ne.a)(o,2),s=i[0],d=i[1],u=Object(l.useState)(""),j=Object(ne.a)(u,2),b=j[0],h=j[1];return Object(l.useEffect)((function(){if(e&&t){var n=e.currentMilestone,r=e.amounts,c=e.token,o=e.address,i=e.isLocked,s=e.terminationTime,l=e.disputes,u=e.resolutions;Rt(t,c,o).then((function(e){if(Number(n)===r.length)l.length===u.length&&u.length>0?h("Dispute Resolved"):h("Completed");else{var t=Ie.a.from(r[n]);e.gte(t)?(d(!i),h("Funded")):s<=(new Date).getTime()/1e3?h("Expired"):h("Awaiting Deposit"),i&&h("In Dispute")}a(!1)})).catch((function(e){return M({statusError:e})}))}}),[e,t]),{funded:s,label:b,loading:c}}(e.invoice),n=t.funded,r=t.label,c=t.loading;return Object(Q.jsx)(y.j,{color:n?"green":"red.500",fontWeight:"bold",textTransform:"uppercase",textAlign:"right",children:c?Object(Q.jsx)(Ot,{size:"20"}):r})},Pt=function(e){var t=e.history,n=Object(l.useContext)(Tt),r=n.search,c=n.setSearch,a=n.result,o=n.fetching,i=Object(l.useContext)(Oe).account;Object(l.useEffect)((function(){i&&c(i)}),[i,c]);var s=Object(ge.a)({base:"md",sm:"lg",md:"xl"});return Object(Q.jsx)(Ce,{justify:{base:"center",md:"flex-start"},direction:"row",children:Object(Q.jsxs)(y.c,{direction:"column",align:"stretch",mx:{base:"1rem",md:"2rem"},w:{base:"30rem",md:"35rem"},maxW:"calc(100%-4rem)",fontSize:{base:"md",sm:"lg",lg:"xl"},mt:"6rem",mb:"4rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",children:"View Existing"}),Object(Q.jsxs)(Ye.b,{size:"lg",children:[Object(Q.jsx)(Ye.a,{type:"text",fontSize:s,value:r,placeholder:"Search for Invoice",onChange:function(e){return c(e.target.value)},borderColor:"red.500"}),Object(Q.jsx)(Ye.d,{children:o?Object(Q.jsx)(Ot,{size:"20"}):Object(Q.jsx)(zt,{boxSize:{base:"1.25rem",md:"1.5rem"}})})]}),Object(Q.jsxs)(y.c,{direction:"column",align:"stretch",w:"100%",mt:"0.5rem",maxH:"30rem",overflowY:"auto",children:[a&&a.map((function(e){return Object(Q.jsx)(Ee.a,{minH:"3rem",borderRadius:"0",variant:"ghost",size:"lg",borderBottom:"solid 1px ".concat(he.colors.borderGrey),onClick:function(){return t.push("/invoice/".concat(q(e.network),"/").concat(e.address))},_hover:{bgColor:"white20"},_active:{bgColor:"white20"},px:{base:"0.5rem",md:"1rem"},children:Object(Q.jsxs)(y.c,{fontSize:s,display:"flex",justify:"space-between",align:"center",w:"100%",children:[Object(Q.jsxs)(y.j,{color:"white",children:[" ",e.projectName," "]}),Object(Q.jsx)(Nt,{invoice:e})]})},e.address)})),!o&&a&&0===a.length&&Object(Q.jsx)(y.c,{justify:"space-between",align:"center",p:"0.5rem",borderBottom:"solid 1px #505050",children:Object(Q.jsx)(y.j,{color:"white",children:" No invoices found "})})]})]})})},Ft=Object(O.i)((function(e){return Object(Q.jsx)(Wt,{children:Object(Q.jsx)(Pt,Object(ee.a)({},e))})})),Lt=Object(Qe.a)({displayName:"WalletFilledIcon",path:Object(Q.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0C1.79086 0 0 1.79086 0 4V6H20V4C20 1.79086 18.2091 0 16 0H4ZM0 8H24C26.2091 8 28 9.79086 28 12V24C28 26.2091 26.2091 28 24 28H4C1.79086 28 0 26.2091 0 24V8ZM18 18C18 17.4477 18.4477 17 19 17H24C24.5523 17 25 17.4477 25 18C25 18.5523 24.5523 19 24 19H19C18.4477 19 18 18.5523 18 18Z",fill:"currentColor"}),viewBox:"0 0 28 28"}),Vt=function(e){var t=e.heading,n=e.chainId,r=Object(O.g)();return Object(Q.jsx)(Ce,{children:Object(Q.jsxs)(y.k,{spacing:"1rem",background:"background",borderRadius:"1rem",align:"center",w:"calc(100% - 2rem)",p:"2rem",maxW:"27.5rem",mx:4,color:"white",children:[n&&Object(Q.jsx)(y.c,{bg:"red.500",borderRadius:"50%",p:"1rem",justify:"center",align:"center",color:"white",children:Object(Q.jsx)(Lt,{boxSize:"1.75rem"})}),Object(Q.jsx)(y.j,{fontSize:"2xl",textAlign:"center",fontFamily:"heading",children:t||"Invoice Not Found"}),n&&Object(Q.jsxs)(y.j,{color:"greyText",children:["Please switch to ",Object(Q.jsx)("b",{children:E(n)})," to view this invoice."]}),Object(Q.jsx)(Ee.a,{colorScheme:"red",px:12,onClick:function(){return r.push("/")},fontFamily:"mono",fontWeight:"normal",children:"Return Home"})]})})},Ut=function(e){var t=e.match.params,n=t.hexChainId,r=t.invoiceId,c=Object(l.useState)(),a=Object(ne.a)(c,2),o=a[0],i=a[1],s=Object(O.g)(),d=parseInt(n,16);if(Object(l.useEffect)((function(){De.utils.isAddress(r)&&ft(d,r).then((function(e){return i(e)}))}),[r,d]),!De.utils.isAddress(r)||null===o)return Object(Q.jsx)(Vt,{});if(!o)return Object(Q.jsx)(Ce,{overlay:!0,children:Object(Q.jsx)(Ot,{size:"80"})});var u=o.id,j=o.network,b=o.disputes,h=o.isLocked&&b.length>0?b[b.length-1]:void 0;return h?Object(Q.jsx)(Ce,{overlay:!0,children:Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",align:"center",justify:"center",my:"8rem",maxW:"35rem",px:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",textAlign:"center",children:"Funds Securely Locked"}),Object(Q.jsxs)(y.j,{color:"white",textAlign:"center",fontSize:"sm",mb:"1rem",children:["You can view the transaction"," ",Object(Q.jsx)(y.g,{href:L(d,h.txHash),isExternal:!0,color:"red.500",textDecoration:"underline",children:"here"}),Object(Q.jsx)("br",{}),"You can view the details on IPFS"," ",Object(Q.jsx)(y.g,{href:U(h.ipfsHash),isExternal:!0,color:"red.500",textDecoration:"underline",children:"here"})]}),Object(Q.jsxs)(y.j,{color:"white",fontStyle:"italic",textAlign:"center",mb:"1rem",children:["Once a decision is made, the funds will be dispersed according to the ruling.",Object(Q.jsx)("br",{}),"Return to the"," ",Object(Q.jsx)(x.b,{to:"/invoice/".concat(q(j),"/").concat(u),children:Object(Q.jsx)("u",{children:"invoice details page"})})," ","to view the results."]}),Object(Q.jsx)(Ee.a,{w:"100%",maxW:"30rem",variant:"outline",colorScheme:"red",textTransform:"uppercase",fontFamily:"mono",fontWeight:"normal",size:"lg",onClick:function(){return s.push("/")},children:"Return Home"})]})}):Object(Q.jsx)(Vt,{heading:"Invoice Not Locked"})},_t=n(726),Ht=function(e,t){var n=Ie.a.from(0);return t.map((function(t){return n=n.add(t),e.gte(n)}))},Bt=function(e,t){return t.map((function(t,n){return n<=e}))},Mt=function(e){var t=e.invoice,n=e.deposited,r=e.due,c=Object(l.useContext)(Oe),a=c.chainId,o=c.provider,i=c.account,s=function(e){return k.k[e]||k.k[4]}(a),d=P(a),u=t.address,j=t.token,b=t.network,h=t.amounts,m=t.currentMilestone,f=Object(l.useState)(0),x=Object(ne.a)(f,2),O=x[0],p=x[1],g=Object(l.useState)(Ie.a.from(0)),v=Object(ne.a)(g,2),w=v[0],C=v[1],S=Object(l.useState)(""),A=Object(ne.a)(S,2),E=A[0],D=A[1],I=N(a,j),T=I.decimals,W=I.symbol,R=Object(l.useState)(!1),z=Object(ne.a)(R,2),F=z[0],V=z[1],U=Object(l.useState)(),_=Object(ne.a)(U,2),H=_[0],B=_[1],K=Object(ge.a)({base:"md",md:"lg"}),Y=function(){var e=Object(te.a)(ce.a.mark((function e(){var t,n,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w&&o){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,V(!0),1!==O){e.next=10;break}return e.next=7,o.getSigner().sendTransaction({to:u,value:w});case 7:t=e.sent,e.next=15;break;case 10:return n=["function transfer(address, uint256) public"],r=new Te.b(j,n,o.getSigner()),e.next=14,r.transfer(u,w);case 14:t=e.sent;case 15:return B(t),e.next=18,t.wait();case 18:window.location.href="/invoice/".concat(q(b),"/").concat(u),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(2),V(!1),M({depositError:e.t0});case 25:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(){return e.apply(this,arguments)}}(),G=j.toLowerCase()===d,Z=Ht(n,h),$=Object(l.useState)(Z),X=Object(ne.a)($,2),J=X[0],ee=X[1],re=Object(l.useState)(),ae=Object(ne.a)(re,2),oe=ae[0],ie=ae[1];return Object(l.useEffect)((function(){try{0===O?Rt(o,j,i).then(ie):o.getBalance(i).then(ie)}catch(e){M({balanceError:e})}}),[O,j,o,i]),Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",textTransform:"uppercase",textAlign:"center",children:"Pay Invoice"}),Object(Q.jsxs)(y.j,{textAlign:"center",fontSize:"sm",mb:"1rem",children:["At a minimum, you\u2019ll need to deposit enough to cover the"," ",0===m?"first":"next"," project payment."]}),Object(Q.jsx)(y.j,{textAlign:"center",color:"red.500",children:"How much will you be depositing today?"}),Object(Q.jsx)(y.k,{spacing:"0.5rem",children:h.map((function(e,t){return Object(Q.jsxs)(Ze.a,{isChecked:J[t],isDisabled:Z[t],onChange:function(e){var r=e.target.checked?Bt(t,J):Bt(t-1,J),c=h.reduce((function(e,t,n){return r[n]?e.add(t):e}),Ie.a.from(0)),a=c.gte(n)?c.sub(n):Ie.a.from(0);ee(r),C(a),D(De.utils.formatUnits(a,T))},colorScheme:"red",border:"none",size:"lg",fontSize:"1rem",color:"white",children:["Payment #",t+1," \xa0 \xa0",De.utils.formatUnits(e,T)," ",W]},t.toString())}))}),Object(Q.jsxs)(y.k,{spacing:"0.5rem",align:"stretch",color:"red.500",mb:"1rem",children:[Object(Q.jsxs)(y.c,{justify:"space-between",w:"100%",children:[Object(Q.jsx)(y.j,{fontWeight:"700",children:"Amount"}),Object(Q.jsx)(y.c,{children:1===O&&Object(Q.jsx)($e.a,{label:"Your ".concat(s," will be automagically wrapped to ").concat(W," tokens"),placement:"auto-start",children:Object(Q.jsx)(Je,{ml:"1rem",boxSize:"0.75rem"})})})]}),Object(Q.jsxs)(Ye.b,{children:[Object(Q.jsx)(Ye.a,{bg:"black",color:"white",border:"none",type:"number",value:E,onChange:function(e){var t=e.target.value;if(D(t),t){var r=De.utils.parseUnits(t,T);C(r),ee(Ht(n.add(r),h))}else C(Ie.a.from(0)),ee(Z)},placeholder:"Amount to Deposit",pr:G?"6rem":"3.5rem"}),Object(Q.jsx)(Ye.d,{w:G?"6rem":"3.5rem",children:G?Object(Q.jsxs)(qe.a,{onChange:function(e){return p(Number(e.target.value))},value:O,bg:"black",color:"white",border:"none",children:[Object(Q.jsx)("option",{value:"0",children:W}),Object(Q.jsx)("option",{value:"1",children:s})]}):W})]}),w.gt(r)&&Object(Q.jsxs)(_t.a,{bg:"none",children:[Object(Q.jsx)(_t.b,{color:"red.500"}),Object(Q.jsx)(_t.c,{fontSize:"sm",children:"Your deposit is greater than the due amount!"})]})]}),Object(Q.jsxs)(y.c,{color:"white",justify:"space-between",w:"100%",fontSize:"sm",children:[n&&Object(Q.jsxs)(y.k,{align:"flex-start",children:[Object(Q.jsx)(y.j,{fontWeight:"bold",children:"Total Deposited"}),Object(Q.jsx)(y.j,{children:"".concat(De.utils.formatUnits(n,T)," ").concat(W)})]}),r&&Object(Q.jsxs)(y.k,{children:[Object(Q.jsx)(y.j,{fontWeight:"bold",children:"Total Due"}),Object(Q.jsx)(y.j,{children:"".concat(De.utils.formatUnits(r,T)," ").concat(W)})]}),oe&&Object(Q.jsxs)(y.k,{align:"flex-end",children:[Object(Q.jsx)(y.j,{fontWeight:"bold",children:"Your Balance"}),Object(Q.jsx)(y.j,{children:"".concat(De.utils.formatUnits(oe,T)," ").concat(0===O?W:s)})]})]}),Object(Q.jsx)(Ee.a,{onClick:Y,isLoading:F,colorScheme:"red",isDisabled:w.lte(0),textTransform:"uppercase",size:K,fontFamily:"mono",fontWeight:"normal",w:"100%",children:"Deposit"}),H&&Object(Q.jsxs)(y.j,{color:"white",textAlign:"center",fontSize:"sm",children:["Follow your transaction"," ",Object(Q.jsx)(y.g,{href:L(a,H.hash),isExternal:!0,color:"red.500",textDecoration:"underline",children:"here"})]})]})},Kt=["title","titleId"];function Yt(){return Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yt.apply(this,arguments)}function Gt(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Zt(e,t){var n=e.title,r=e.titleId,c=Gt(e,Kt);return l.createElement("svg",Yt({width:76,height:94,viewBox:"0 0 76 94",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?l.createElement("title",{id:r},n):null,s||(s=l.createElement("path",{d:"M52.4103 31.3281V24.4609C52.4103 20.7461 50.9337 17.1875 48.3087 14.5586C45.6837 11.9336 42.1212 10.4609 38.4103 10.4609H37.5002C29.7697 10.4609 23.5002 16.7265 23.5002 24.4609V31.3203C19.9885 31.6015 16.4846 31.9765 12.9882 32.4492V24.4492C12.9999 17.9492 15.5937 11.7192 20.203 7.13315C24.8085 2.54725 31.051 -0.0191455 37.551 0.000354457H38.4611C44.9455 0.00816646 51.1601 2.58625 55.7461 7.17225C60.332 11.7582 62.9102 17.9773 62.9219 24.4613V32.4613C59.4258 31.9808 55.9219 31.6019 52.4099 31.3285L52.4103 31.3281ZM5.51234 42.3281C26.9853 38.2656 49.0353 38.2656 70.5123 42.3281C73.3912 42.8749 75.4693 45.3984 75.4498 48.3281V85.2111C75.4498 87.84 73.5826 90.0977 71.0006 90.59L67.6725 91.2189C57.8873 93.0705 47.9575 94.0001 38.0005 94.0001C28.0513 94.0001 18.1255 93.0704 8.35254 91.2189L5.00094 90.59C2.41504 90.1017 0.543939 87.84 0.540039 85.2111V47.7811C0.543946 45.1483 2.41504 42.8905 5.00094 42.3983L5.51234 42.3281ZM31.8713 76.7501C35.8127 78.2892 40.1877 78.2892 44.1293 76.7501C44.8325 76.4844 45.184 75.7032 44.9223 75.0001L41.7309 66.0001C43.7309 64.4142 44.5121 61.7345 43.6723 59.3243C42.8325 56.9141 40.559 55.297 38.0043 55.297C35.4535 55.297 33.1762 56.9142 32.3402 59.3243C31.5004 61.7345 32.2777 64.4141 34.2816 66.0001L31.0902 75.0001C30.8246 75.6993 31.1722 76.4806 31.8715 76.7501H31.8713Z",fill:"#FF3864"})))}var $t,qt=l.forwardRef(Zt),Xt=(n.p,function(e){var t=e.invoice,n=e.balance,r=Object(l.useContext)(Oe),c=r.chainId,a=r.provider,o=t.network,i=t.address,s=t.resolver,d=t.token,u=t.resolutionRate,j=N(c,d),b=j.decimals,h=j.symbol,m=Object(l.useState)(""),f=Object(ne.a)(m,2),x=f[0],O=f[1],p="".concat(De.utils.formatUnits(Ie.a.from(n).div(u),b)," ").concat(h),g=Object(l.useState)(!1),v=Object(ne.a)(g,2),w=v[0],C=v[1],k=Object(l.useState)(),S=Object(ne.a)(k,2),A=S[0],E=S[1],D=Object(ge.a)({base:"md",md:"lg"}),I=Object(l.useCallback)(Object(te.a)(ce.a.mark((function e(){var t,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||w||!n.gt(0)||!x){e.next=19;break}return e.prev=1,C(!0),e.next=5,Object(Ve.a)({reason:x,invoice:i,amount:n.toString()});case 5:return t=e.sent,e.next=8,Fe(a,i,t);case 8:return r=e.sent,E(r),e.next=12,r.wait();case 12:setTimeout((function(){window.location.href="/invoice/".concat(q(o),"/").concat(i)}),2e3),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),C(!1),M({lockError:e.t0});case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),[o,a,w,n,i,x]);return w?Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",textTransform:"uppercase",textAlign:"center",children:"Locking Funds"}),A&&Object(Q.jsxs)(y.j,{color:"white",textAlign:"center",fontSize:"sm",children:["Follow your transaction"," ",Object(Q.jsx)(y.g,{href:L(c,A.hash),isExternal:!0,color:"red.500",textDecoration:"underline",children:"here"})]}),Object(Q.jsxs)(y.c,{w:"100%",justify:"center",align:"center",minH:"7rem",my:"3rem",position:"relative",color:"red.500",children:[Object(Q.jsx)(Ot,{size:"6rem"}),Object(Q.jsx)(y.c,{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",children:Object(Q.jsx)(qt,{width:"2rem"})})]})]}):Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",textTransform:"uppercase",textAlign:"center",children:"Lock Funds"}),Object(Q.jsx)(y.j,{textAlign:"center",fontSize:"sm",mb:"1rem",children:"Locking freezes all remaining funds in the contract and initiates a dispute."}),Object(Q.jsxs)(y.j,{w:"100%",children:["Once a dispute has been initiated, ",Object(Q.jsx)(Me,{address:s})," will review your case, the project agreement and dispute reasoning before making a decision on how to fairly distribute remaining funds."]}),Object(Q.jsx)(at,{tooltip:"Why do you want to lock these funds?",label:"Dispute Reason",value:x,setValue:O}),Object(Q.jsxs)(y.j,{color:"red.500",textAlign:"center",children:["Upon resolution, a fee of ".concat(p," will be deducted from the locked fund amount and sent to "),Object(Q.jsx)(Me,{address:s})," for helping resolve this dispute."]}),Object(Q.jsx)(Ee.a,{onClick:I,colorScheme:"red",isDisabled:!x,textTransform:"uppercase",size:D,fontFamily:"mono",fontWeight:"normal",w:"100%",children:"Lock ".concat(De.utils.formatUnits(n,b)," ").concat(h)}),H(c,s)&&Object(Q.jsxs)(y.g,{href:R(c,s).termsUrl,isExternal:!0,color:"red.500",textDecor:"underline",children:["Learn about ",B(c,s)," dispute process & terms"]})]})}),Qt=function(e){var t=e.invoice,n=e.balance,r=e.close,c=Object(l.useState)(!1),a=Object(ne.a)(c,2),o=a[0],i=a[1],s=Object(l.useContext)(Oe),d=s.chainId,u=s.provider,j=t.network,b=t.currentMilestone,h=t.amounts,m=t.address,f=t.token,x=function(e,t,n){return e>=t.length||e===t.length-1&&n.gte(t[e])?n:Ie.a.from(t[e])}(b,h,n),O=N(d,f),p=O.decimals,g=O.symbol,v=Object(l.useState)(),w=Object(ne.a)(v,2),C=w[0],k=w[1],S=Object(ge.a)({base:"md",md:"lg"});return Object(l.useEffect)((function(){var e=function(){var e=Object(te.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Ne(u,m);case 4:return t=e.sent,k(t),e.next=8,t.wait();case 8:window.location.href="/invoice/".concat(q(j),"/").concat(m),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),M({releaseError:e.t0}),r();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();!o&&u&&n&&n.gte(x)&&e()}),[j,x,m,u,n,o,r]),Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",textTransform:"uppercase",textAlign:"center",children:"Release Funds"}),Object(Q.jsx)(y.j,{textAlign:"center",fontSize:"sm",mb:"1rem",children:"Follow the instructions in your wallet to release funds from escrow to the project team."}),Object(Q.jsxs)(y.k,{my:"2rem",px:"5rem",py:"1rem",bg:"black",borderRadius:"0.5rem",children:[Object(Q.jsx)(y.j,{color:"red.500",fontSize:"0.875rem",textAlign:"center",children:"Amount To Be Released"}),Object(Q.jsx)(y.j,{color:"white",fontSize:"1rem",fontWeight:"bold",textAlign:"center",children:"".concat(De.utils.formatUnits(x,p)," ").concat(g)})]}),C&&Object(Q.jsxs)(y.j,{color:"white",textAlign:"center",fontSize:"sm",children:["Follow your transaction"," ",Object(Q.jsx)(y.g,{href:L(d,C.hash),isExternal:!0,color:"red.500",textDecoration:"underline",children:"here"})]}),Object(Q.jsx)(Ee.a,{onClick:r,variant:"outline",colorScheme:"red",textTransform:"uppercase",size:S,fontFamily:"mono",fontWeight:"normal",w:"100%",children:"Close"})]})},Jt=function(e){var t=e.invoice,n=e.balance,r=e.close,c=t.network,a=t.address,o=t.resolutionRate,i=t.token,s=t.isLocked,d=Object(l.useContext)(Oe),u=d.chainId,j=d.provider,b=N(u,i),h=b.decimals,m=b.symbol,f=Object(l.useState)(!1),x=Object(ne.a)(f,2),O=x[0],p=x[1],g=Object(l.useState)(),v=Object(ne.a)(g,2),w=v[0],C=v[1],k=n.gt(0)?n.div(o):Ie.a.from(0),S=n.sub(k),A=Object(l.useState)(S),E=Object(ne.a)(A,2),D=E[0],I=E[1],T=Object(l.useState)(Ie.a.from(0)),W=Object(ne.a)(T,2),R=W[0],z=W[1],P=Object(l.useState)(De.utils.formatUnits(S,h)),F=Object(ne.a)(P,2),V=F[0],U=F[1],_=Object(l.useState)("0"),H=Object(ne.a)(_,2),B=H[0],K=H[1],Y=Object(l.useState)(""),G=Object(ne.a)(Y,2),Z=G[0],$=G[1],X=Object(ge.a)({base:"md",md:"lg"}),J=Object(l.useCallback)(Object(te.a)(ce.a.mark((function e(){var t,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j&&s&&Z&&n.eq(D.add(R).add(k))&&n.gt(0))){e.next=19;break}return e.prev=1,p(!0),e.next=5,Object(Ve.a)({comments:Z,invoice:a,amount:n.toString()});case 5:return t=e.sent,e.next=8,Le(j,a,D,R,t);case 8:return r=e.sent,C(r),e.next=12,r.wait();case 12:window.location.href="/invoice/".concat(q(c),"/").concat(a),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),p(!1),M({depositError:e.t0});case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),[j,s,n,Z,D,R,k,a,c]);return Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",textTransform:"uppercase",textAlign:"center",children:"Resolve Dispute"}),Object(Q.jsx)(y.j,{textAlign:"center",fontSize:"sm",mb:"1rem",children:s?"You\u2019ll need to distribute the total balance of ".concat(De.utils.formatUnits(n,h)," ").concat(m," between the client and provider, excluding the ").concat(100/o,"% arbitration fee which you shall receive."):"Invoice is not locked"}),s?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(at,{tooltip:"Here you may explain your reasoning behind the resolution",label:"Resolution Comments",value:Z,setValue:$}),Object(Q.jsxs)(y.k,{spacing:"0.5rem",align:"stretch",color:"red.500",children:[Object(Q.jsx)(y.j,{fontWeight:"700",children:"Client Award"}),Object(Q.jsxs)(Ye.b,{children:[Object(Q.jsx)(Ye.a,{bg:"black",color:"white",border:"none",type:"number",value:V,pr:"3.5rem",onChange:function(e){if(U(e.target.value),e.target.value){var t=De.utils.parseUnits(e.target.value,h);t.gt(S)&&(t=S,U(De.utils.formatUnits(t,h))),I(t),t=S.sub(t),z(t),K(De.utils.formatUnits(t,h))}},placeholder:"Client Award"}),Object(Q.jsx)(Ye.d,{w:"3.5rem",children:m})]})]}),Object(Q.jsxs)(y.k,{spacing:"0.5rem",align:"stretch",color:"red.500",children:[Object(Q.jsx)(y.j,{fontWeight:"700",children:"Provider Award"}),Object(Q.jsxs)(Ye.b,{children:[Object(Q.jsx)(Ye.a,{bg:"black",color:"white",border:"none",type:"number",value:B,pr:"3.5rem",onChange:function(e){if(K(e.target.value),e.target.value){var t=De.utils.parseUnits(e.target.value,h);t.gt(S)&&(t=S,K(De.utils.formatUnits(t,h))),z(t),t=S.sub(t),I(t),U(De.utils.formatUnits(t,h))}},placeholder:"Provider Award"}),Object(Q.jsx)(Ye.d,{w:"3.5rem",children:m})]})]}),Object(Q.jsxs)(y.k,{spacing:"0.5rem",align:"stretch",color:"red.500",mb:"1rem",children:[Object(Q.jsx)(y.j,{fontWeight:"700",children:"Resolver Award"}),Object(Q.jsxs)(Ye.b,{children:[Object(Q.jsx)(Ye.a,{bg:"black",color:"white",border:"none",type:"number",value:De.utils.formatUnits(k,h),pr:"3.5rem",isDisabled:!0}),Object(Q.jsx)(Ye.d,{w:"3.5rem",children:m})]})]}),Object(Q.jsx)(Ee.a,{onClick:J,isLoading:O,colorScheme:"red",isDisabled:k.lte(0)||!Z,textTransform:"uppercase",size:X,fontFamily:"mono",fontWeight:"normal",w:"100%",children:"Resolve"}),w&&Object(Q.jsxs)(y.j,{color:"white",textAlign:"center",fontSize:"sm",children:["Follow your transaction"," ",Object(Q.jsx)(y.g,{href:L(u,w.hash),isExternal:!0,color:"red.500",textDecoration:"underline",children:"here"})]})]}):Object(Q.jsx)(Ee.a,{onClick:r,variant:"outline",colorScheme:"red",textTransform:"uppercase",size:X,fontFamily:"mono",fontWeight:"normal",w:"100%",children:"Close"})]})},en=function(e){var t=e.invoice,n=e.balance,r=e.close,c=Object(l.useState)(!1),a=Object(ne.a)(c,2),o=a[0],i=a[1],s=Object(l.useContext)(Oe),d=s.chainId,u=s.provider,j=t.network,b=t.address,h=t.token,m=N(d,h),f=m.decimals,x=m.symbol,O=Object(l.useState)(),p=Object(ne.a)(O,2),g=p[0],v=p[1],w=Object(ge.a)({base:"md",md:"lg"});return Object(l.useEffect)((function(){var e=function(){var e=Object(te.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Pe(u,b);case 4:return t=e.sent,v(t),e.next=8,t.wait();case 8:window.location.href="/invoice/".concat(q(j),"/").concat(b),i(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),r(),M({withdrawError:e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();!o&&u&&n.gte(0)&&e()}),[j,n,b,u,o,r]),Object(Q.jsxs)(y.k,{w:"100%",spacing:"1rem",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",mb:"1rem",textTransform:"uppercase",textAlign:"center",children:"Withdraw Funds"}),Object(Q.jsx)(y.j,{textAlign:"center",fontSize:"sm",mb:"1rem",children:"Follow the instructions in your wallet to withdraw remaining funds from the escrow."}),Object(Q.jsxs)(y.k,{my:"2rem",px:"5rem",py:"1rem",bg:"black",borderRadius:"0.5rem",children:[Object(Q.jsx)(y.j,{color:"red.500",fontSize:"0.875rem",textAlign:"center",children:"Amount To Be Withdrawn"}),Object(Q.jsx)(y.j,{color:"white",fontSize:"1rem",fontWeight:"bold",textAlign:"center",children:"".concat(De.utils.formatUnits(n,f)," ").concat(x)})]}),g&&Object(Q.jsxs)(y.j,{color:"white",textAlign:"center",fontSize:"sm",children:["Follow your transaction"," ",Object(Q.jsx)(y.g,{href:L(d,g.hash),isExternal:!0,color:"red.500",textDecoration:"underline",children:"here"})]}),Object(Q.jsx)(Ee.a,{onClick:r,variant:"outline",colorScheme:"red",textTransform:"uppercase",size:w,fontFamily:"mono",fontWeight:"normal",w:"100%",children:"Close"})]})},tn=function(e){var t=e.match.params,n=t.hexChainId,r=t.invoiceId,c=Object(l.useContext)(Oe),a=c.chainId,o=c.account,i=c.provider,s=Object(l.useState)(),d=Object(ne.a)(s,2),u=d[0],j=d[1],b=Object(l.useState)(!0),h=Object(ne.a)(b,2),m=h[0],f=h[1],x=Object(l.useState)(Ie.a.from(0)),O=Object(ne.a)(x,2),p=O[0],g=O[1],v=Object(l.useState)(!1),w=Object(ne.a)(v,2),C=w[0],k=w[1],A=Object(l.useState)(0),E=Object(ne.a)(A,2),D=E[0],I=E[1],T=parseInt(n,16);Object(l.useEffect)((function(){De.utils.isAddress(r)&&!Number.isNaN(T)&&ft(T,r).then((function(e){return j(e)}))}),[T,r]),Object(l.useEffect)((function(){u&&i&&a===T&&(f(!0),Rt(i,u.token,u.address).then((function(e){g(e),f(!1)})).catch((function(e){return M({balanceError:e})})))}),[u,i,a,T]);var W=Object(ge.a)({base:"10rem",sm:"20rem"}),R=Object(ge.a)({base:"30rem",lg:"22rem"}),z=Object(ge.a)({base:"100%",md:"40rem"}),P=Object(ge.a)({base:"md",lg:"lg"}),F=Object(ge.a)({base:!0,sm:!1});if(!De.utils.isAddress(r)||null===u)return Object(Q.jsx)(Vt,{});if(u&&a!==T)return Object(Q.jsx)(Vt,{chainId:T,heading:"Incorrect Network"});if(!u||m)return Object(Q.jsx)(Ce,{overlay:!0,children:Object(Q.jsx)(Ot,{size:"80"})});var H,B=u.projectName,Y=u.projectDescription,G=u.projectAgreement,Z=u.startDate,$=u.endDate,q=u.terminationTime,X=u.client,J=u.provider,ee=u.resolver,re=u.currentMilestone,ae=u.amounts,oe=u.total,ie=u.token,se=u.released,le=u.isLocked,de=u.deposits,ue=u.releases,je=u.disputes,be=u.resolutions,he=o.toLowerCase()===X,me=o.toLowerCase()===ee.toLowerCase(),fe=N(T,ie),xe=fe.decimals,pe=fe.symbol,ve=Ie.a.from(se).add(p),we=ve.gte(oe)?Ie.a.from(0):Ie.a.from(oe).sub(ve),ye=q<=(new Date).getTime()/1e3,ke=Ie.a.from(re<ae.length?ae[re]:0),Se=!le&&p.gte(ke)&&p.gt(0),Ae=!ye&&!le&&p.gt(0),Te=le&&je.length>0?je[je.length-1]:void 0,We=!le&&be.length>0?be[be.length-1]:void 0,Re=function(){I(0),k(!0)},ze=function(){I(1),k(!0)},Ne=function(){var e=Object(te.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Se&&he&&(I(2),k(!0));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(te.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me&&(I(3),k(!0));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(te.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye&&he&&(I(4),k(!0));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();H=Se&&(Ae||ye&&p.gt(0))?{base:2,sm:3}:Ae||Se||ye&&p.gt(0)?2:1;var Le=Ie.a.from(0);return Object(Q.jsx)(Ce,{overlay:!0,children:Object(Q.jsxs)(y.i,{spacing:"2rem",justify:"center",align:"center",direction:{base:"column",lg:"row"},w:"100%",px:"1rem",py:"8rem",children:[Object(Q.jsxs)(y.i,{spacing:"1rem",minW:W,w:"100%",maxW:R,justify:"center",align:"stretch",direction:"column",children:[Object(Q.jsxs)(y.k,{align:"stretch",justify:"center",children:[Object(Q.jsx)(y.f,{fontWeight:"normal",fontSize:"2xl",children:B}),Object(Q.jsxs)(y.c,{align:"center",color:"white",children:[Object(Q.jsx)(y.g,{href:V(T,r.toLowerCase()),isExternal:!0,children:_(r)}),document.queryCommandSupported("copy")&&Object(Q.jsx)(Ee.a,{ml:4,onClick:function(){return K(r.toLowerCase())},variant:"ghost",colorScheme:"red",h:"auto",w:"auto",minW:"2",p:2,children:Object(Q.jsx)(xt,{boxSize:4})})]}),Y&&Object(Q.jsx)(y.j,{color:"white",children:Y}),Object(Q.jsx)(y.g,{href:G,isExternal:!0,textDecor:"underline",color:"white",children:"Details of Agreement"})]}),Object(Q.jsxs)(y.k,{fontSize:"sm",color:"grey",align:"stretch",justify:"center",children:[Z&&Object(Q.jsxs)(y.l,{children:[Object(Q.jsx)(y.m,{children:Object(Q.jsx)(y.j,{children:"Project Start Date: "})}),Object(Q.jsx)(y.m,{children:Object(Q.jsx)(y.j,{fontWeight:"bold",children:S(Z)})})]}),$&&Object(Q.jsxs)(y.l,{children:[Object(Q.jsx)(y.m,{children:Object(Q.jsx)(y.j,{children:"Project End Date: "})}),Object(Q.jsx)(y.m,{children:Object(Q.jsx)(y.j,{fontWeight:"bold",children:S($)})})]}),Object(Q.jsxs)(y.l,{children:[Object(Q.jsx)(y.m,{children:Object(Q.jsx)(y.j,{children:"Safety Valve Withdrawal Date: "})}),Object(Q.jsxs)(y.m,{children:[Object(Q.jsx)(y.j,{fontWeight:"bold",children:S(q)}),Object(Q.jsx)($e.a,{label:"The Safety Valve gets activated on ".concat(new Date(1e3*q).toUTCString()),placement:"auto-start",children:Object(Q.jsx)(Je,{ml:"1rem",boxSize:"0.75rem",color:"red.500"})})]})]}),Object(Q.jsxs)(y.l,{children:[Object(Q.jsx)(y.m,{children:Object(Q.jsx)(y.j,{children:"Client Account: "})}),Object(Q.jsx)(y.m,{fontWeight:"bold",children:Object(Q.jsx)(Me,{address:X,chainId:T})})]}),Object(Q.jsxs)(y.l,{children:[Object(Q.jsx)(y.m,{children:Object(Q.jsx)(y.j,{children:"Provider Account: "})}),Object(Q.jsx)(y.m,{fontWeight:"bold",children:Object(Q.jsx)(Me,{address:J,chainId:T})})]}),Object(Q.jsxs)(y.l,{children:[Object(Q.jsx)(y.m,{children:Object(Q.jsx)(y.j,{children:"Arbitration Provider: "})}),Object(Q.jsx)(y.m,{fontWeight:"bold",children:Object(Q.jsx)(Me,{address:ee,chainId:T})})]})]})]}),Object(Q.jsxs)(y.k,{spacing:{base:"2rem",lg:"1.5rem"},w:"100%",align:"stretch",maxW:z,children:[Object(Q.jsxs)(y.c,{bg:"background",direction:"column",justify:"space-between",px:{base:"1rem",md:"2rem"},py:"1.5rem",borderRadius:"0.5rem",w:"100%",color:"white",children:[Object(Q.jsxs)(y.c,{justify:"space-between",align:"center",fontWeight:"bold",fontSize:"lg",mb:"1rem",children:[Object(Q.jsx)(y.j,{children:F?"Total Amount":"Total Project Amount"}),Object(Q.jsx)(y.j,{children:"".concat(De.utils.formatUnits(oe,xe)," ").concat(pe)})]}),Object(Q.jsx)(y.k,{pl:{base:"0.5rem",md:"1rem"},align:"stretch",spacing:"0.25rem",children:ae.map((function(e,t){var n=Ie.a.from(0),r=-1,c=!1;if(de.length>0)for(var a=0;a<de.length;a+=1)if((n=n.add(de[a].amount)).gt(Le)&&(r=a,n.sub(Le).gte(e))){c=!0;break}return Le=Le.add(e),Object(Q.jsxs)(y.c,{justify:"space-between",align:{base:"stretch",sm:"center"},direction:{base:"column",sm:"row"},children:[Object(Q.jsxs)(y.j,{children:["Payment Milestone #",t+1]}),Object(Q.jsxs)(y.e,{spacing:{base:"0.5rem",md:"1rem"},align:"center",justify:"flex-end",ml:{base:"0.5rem",md:"1rem"},children:[t<re&&ue.length>t&&Object(Q.jsxs)(y.g,{fontSize:"xs",isExternal:!0,color:"grey",fontStyle:"italic",href:L(T,ue[t].txHash),children:["Released"," ",new Date(1e3*ue[t].timestamp).toLocaleDateString()]}),!(t<re&&ue.length>t)&&-1!==r&&Object(Q.jsxs)(y.g,{fontSize:"xs",isExternal:!0,color:"grey",fontStyle:"italic",href:L(T,de[r].txHash),children:[c?"":"Partially ","Deposited"," ",new Date(1e3*de[r].timestamp).toLocaleDateString()]}),Object(Q.jsx)(y.j,{textAlign:"right",fontWeight:"500",children:"".concat(De.utils.formatUnits(e,xe)," ").concat(pe)})]})]},t.toString())}))}),Object(Q.jsx)(y.b,{w:{base:"calc(100% + 2rem)",md:"calc(100% + 4rem)"},ml:{base:"-1rem",md:"-2rem"},my:"1rem"}),Object(Q.jsxs)(y.k,{pl:{base:"0.5rem",md:"1rem"},align:"stretch",spacing:"0.25rem",children:[Object(Q.jsxs)(y.c,{justify:"space-between",align:"center",children:[Object(Q.jsxs)(y.j,{children:[F?"":"Total ","Deposited"]}),Object(Q.jsx)(y.j,{fontWeight:"500",textAlign:"right",children:"".concat(De.utils.formatUnits(ve,xe)," ").concat(pe)})]}),Object(Q.jsxs)(y.c,{justify:"space-between",align:"center",children:[Object(Q.jsxs)(y.j,{children:[F?"":"Total ","Released"]}),Object(Q.jsx)(y.j,{fontWeight:"500",textAlign:"right",children:"".concat(De.utils.formatUnits(se,xe)," ").concat(pe)})]}),Object(Q.jsxs)(y.c,{justify:"space-between",align:"center",textDecor:Te||We||ye?"line-through":void 0,children:[Object(Q.jsxs)(y.j,{children:["Remaining",F?"":" Amount Due"]}),Object(Q.jsx)(y.j,{fontWeight:"500",textAlign:"right",children:"".concat(De.utils.formatUnits(we,xe)," ").concat(pe)})]})]}),Object(Q.jsx)(y.b,{w:{base:"calc(100% + 2rem)",md:"calc(100% + 4rem)"},ml:{base:"-1rem",md:"-2rem"},my:"1rem"}),!Te&&!We&&Object(Q.jsx)(y.c,{justify:"space-between",align:"center",color:"red.500",fontWeight:"bold",fontSize:"lg",children:ye||we.eq(0)&&!Se?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(y.j,{children:"Remaining Balance"}),Object(Q.jsx)(y.j,{textAlign:"right",children:"".concat(De.utils.formatUnits(p,xe)," ").concat(pe)})," "]}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(y.j,{children:[Se&&(F?"Next Release":"Next Amount to Release"),!Se&&(F?"Due Today":"Total Due Today")]}),Object(Q.jsx)(y.j,{textAlign:"right",children:"".concat(De.utils.formatUnits(Se?ke:ke.sub(p),xe)," ").concat(pe)})]})}),Te&&Object(Q.jsxs)(y.k,{w:"100%",align:"stretch",spacing:"1rem",color:"red.500",children:[Object(Q.jsxs)(y.c,{justify:"space-between",align:"center",fontWeight:"bold",fontSize:"lg",children:[Object(Q.jsx)(y.j,{children:"Amount Locked"}),Object(Q.jsx)(y.j,{textAlign:"right",children:"".concat(De.utils.formatUnits(p,xe)," ").concat(pe)})]}),Object(Q.jsxs)(y.j,{children:["A dispute is in progress with ",Object(Q.jsx)(Me,{address:ee,chainId:T}),Object(Q.jsx)("br",{}),Object(Q.jsx)(y.g,{href:U(Te.ipfsHash),isExternal:!0,children:Object(Q.jsx)("u",{children:"View details on IPFS"})}),Object(Q.jsx)("br",{}),Object(Q.jsx)(y.g,{href:L(T,Te.txHash),isExternal:!0,children:Object(Q.jsx)("u",{children:"View transaction"})})]})]}),We&&Object(Q.jsxs)(y.k,{w:"100%",align:"stretch",spacing:"1rem",color:"red.500",children:[Object(Q.jsxs)(y.c,{justify:"space-between",align:"center",fontWeight:"bold",fontSize:"lg",children:[Object(Q.jsx)(y.j,{children:"Amount Dispersed"}),Object(Q.jsx)(y.j,{textAlign:"right",children:"".concat(De.utils.formatUnits(Ie.a.from(We.clientAward).add(We.providerAward).add(We.resolutionFee?We.resolutionFee:0),xe)," ").concat(pe)})]}),Object(Q.jsxs)(y.c,{justify:"space-between",direction:{base:"column",sm:"row"},children:[Object(Q.jsx)(y.c,{flex:1,children:Object(Q.jsxs)(y.j,{textAlign:{base:"center",sm:"left"},children:[Object(Q.jsx)(Me,{address:ee,chainId:T})," has resolved the dispute and dispersed remaining funds",Object(Q.jsx)("br",{}),Object(Q.jsx)(y.g,{href:U(We.ipfsHash),isExternal:!0,children:Object(Q.jsx)("u",{children:"View details on IPFS"})}),Object(Q.jsx)("br",{}),Object(Q.jsx)(y.g,{href:L(T,We.txHash),isExternal:!0,children:Object(Q.jsx)("u",{children:"View transaction"})})]})}),Object(Q.jsxs)(y.k,{spacing:"0.5rem",mt:{base:"1rem",sm:"0"},align:{base:"center",sm:"stretch"},children:[We.resolutionFee&&Object(Q.jsxs)(y.j,{textAlign:"right",children:["".concat(De.utils.formatUnits(Ie.a.from(We.resolutionFee),xe)," ").concat(pe," to "),Object(Q.jsx)(Me,{address:ee,chainId:T})]}),Object(Q.jsxs)(y.j,{textAlign:"right",children:["".concat(De.utils.formatUnits(Ie.a.from(We.clientAward),xe)," ").concat(pe," to "),Object(Q.jsx)(Me,{address:X,chainId:T})]}),Object(Q.jsxs)(y.j,{textAlign:"right",children:["".concat(De.utils.formatUnits(Ie.a.from(We.providerAward),xe)," ").concat(pe," to "),Object(Q.jsx)(Me,{address:J,chainId:T})]})]})]})]})]}),me&&Object(Q.jsx)(y.h,{columns:1,spacing:"1rem",w:"100%",children:le?Object(Q.jsx)(Ee.a,{size:P,colorScheme:"red",fontWeight:"normal",fontFamily:"mono",textTransform:"uppercase",onClick:function(){return Pe()},children:"Resolve"}):Object(Q.jsx)(Ee.a,{size:P,colorScheme:"red",fontWeight:"normal",fontFamily:"mono",textTransform:"uppercase",onClick:function(){return ze()},children:"Deposit"})}),!Te&&!We&&!me&&he&&Object(Q.jsxs)(y.h,{columns:H,spacing:"1rem",w:"100%",children:[Ae&&Object(Q.jsx)(Ee.a,{size:P,variant:"outline",colorScheme:"red",fontFamily:"mono",fontWeight:"normal",textTransform:"uppercase",onClick:function(){return Re()},children:"Lock"}),ye&&p.gt(0)&&Object(Q.jsx)(Ee.a,{size:P,variant:"outline",colorScheme:"red",fontFamily:"mono",fontWeight:"normal",textTransform:"uppercase",onClick:function(){return Fe()},children:"Withdraw"}),Se&&Object(Q.jsx)(Ee.a,{size:P,variant:"outline",colorScheme:"red",fontWeight:"normal",fontFamily:"mono",textTransform:"uppercase",onClick:function(){return ze()},children:"Deposit"}),Object(Q.jsx)(Ee.a,{size:P,gridArea:{base:Number.isInteger(H)?"auto/auto/auto/auto":"2/1/2/span 2",sm:"auto/auto/auto/auto"},colorScheme:"red",fontWeight:"normal",fontFamily:"mono",textTransform:"uppercase",onClick:function(){return Se?Ne():ze()},children:Se?"Release":"Deposit"})]}),!Te&&!We&&!me&&!he&&Object(Q.jsxs)(y.h,{columns:Ae?2:1,spacing:"1rem",w:"100%",children:[Ae&&Object(Q.jsx)(Ee.a,{size:P,variant:"outline",colorScheme:"red",fontFamily:"mono",fontWeight:"normal",textTransform:"uppercase",onClick:function(){return Re()},children:"Lock"}),Object(Q.jsx)(Ee.a,{size:P,colorScheme:"red",fontWeight:"normal",fontFamily:"mono",textTransform:"uppercase",onClick:function(){return ze()},children:"Deposit"})]})]}),Object(Q.jsx)(Ct.a,{isOpen:C,onClose:function(){return k(!1)},isCentered:!0,children:Object(Q.jsx)(Ct.d,{children:Object(Q.jsxs)(Ct.c,{p:"2rem",maxW:"40rem",background:"background",borderRadius:"0.5rem",color:"white",children:[Object(Q.jsx)(Ct.b,{_hover:{bgColor:"white20"},top:"0.5rem",right:"0.5rem"}),C&&0===D&&Object(Q.jsx)(Xt,{invoice:u,balance:p,close:function(){return k(!1)}}),C&&1===D&&Object(Q.jsx)(Mt,{invoice:u,deposited:ve,due:we,close:function(){return k(!1)}}),C&&2===D&&Object(Q.jsx)(Qt,{invoice:u,balance:p,close:function(){return k(!1)}}),C&&3===D&&Object(Q.jsx)(Jt,{invoice:u,balance:p,close:function(){return k(!1)}}),C&&4===D&&Object(Q.jsx)(en,{invoice:u,balance:p,close:function(){return k(!1)}})]})})})]})})},nn=n.p+"static/media/space.033a5db6.png",rn=function(){var e=Object(l.useContext)(Oe),t=e.connectAccount,n=e.loading,r=e.account,c=e.disconnect;if(n)return Object(Q.jsx)(Ce,{children:Object(Q.jsx)(Ot,{size:"80"})});var a=function(){var e=Object(te.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),M("Couldn't connect web3 wallet");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),o=k.e.map(E).join(" or ");return Object(Q.jsx)(Ce,{children:Object(Q.jsxs)(y.c,{background:"background",borderRadius:"1rem",direction:"column",align:"center",w:"calc(100% - 2rem)",p:"2rem",maxW:"27.5rem",mx:4,color:"white",children:[Object(Q.jsx)(y.c,{bg:"red.500",borderRadius:"50%",p:"1rem",justify:"center",align:"center",color:"white",mb:4,children:Object(Q.jsx)(Lt,{boxSize:"1.75rem"})}),n?Object(Q.jsx)(y.j,{fontSize:"2xl",fontFamily:"heading",mb:4,children:"Connecting Wallet"}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(y.j,{fontSize:"2xl",fontFamily:"heading",mb:4,children:r?"Network not supported":"Connect Wallet"}),Object(Q.jsx)(y.j,{color:"greyText",mb:4,textAlign:"center",children:r?"Please switch to ".concat(o):"To get started, connect your wallet"})]}),r&&!n?Object(Q.jsx)(Ee.a,{onClick:c,colorScheme:"red",px:12,fontFamily:"mono",fontWeight:"normal",children:"Disconnect"}):Object(Q.jsx)(Ee.a,{onClick:a,colorScheme:"red",px:12,isLoading:n,fontFamily:"mono",fontWeight:"normal",children:"Connect"})]})})},cn=n.p+"static/media/sharingan.af455048.png",an=function(e){var t=e.center;return Object(Q.jsx)(y.c,{position:"absolute",bottom:"0",right:"0",w:"100%",h:"5rem",py:"1rem",px:"3rem",align:"center",justify:t?"center":{base:"center",lg:"flex-end"}})},on=n(722),sn=n(727),ln=n(728),dn=n(320),un=n.p+"static/media/logo.a880e77e.svg",jn=Object(Qe.a)({displayName:"HamburgerIcon",path:Object(Q.jsx)("path",{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}),viewBox:"0 0 448 512"}),bn=function(e){var t=e.profile,n=e.account,r=e.chainId,c=e.disconnect;return Object(Q.jsx)(y.c,{justify:"center",align:"center",mx:{base:"2rem",sm:"3rem"},zIndex:7,height:"8rem",position:"absolute",top:"0",left:"0",children:Object(Q.jsxs)(sn.a,{children:[Object(Q.jsx)(sn.c,{children:Object(Q.jsxs)(Ee.a,{h:"auto",fontWeight:"normal",borderRadius:"full",variant:"ghost",colorScheme:"red",fontFamily:"mono",p:"2",children:[Object(Q.jsx)(y.c,{borderRadius:"50%",w:"2.5rem",h:"2.5rem",overflow:"hidden",justify:"center",align:"center",bgColor:"black",bgImage:t&&"url(".concat(t.imageUrl,")"),border:"1px solid ".concat(he.colors.white20),bgSize:"cover",bgRepeat:"no-repeat",bgPosition:"center center"}),Object(Q.jsx)(y.j,{px:2,display:"flex",fontFamily:"'Roboto Mono', monospace;",color:"red.500",children:t&&t.name?t.name:_(n)}),Object(Q.jsx)(ln.a,{colorScheme:"red",size:"sm",children:X(r)})]})}),Object(Q.jsx)(sn.b,{bg:"none",w:"auto",children:Object(Q.jsx)(Ee.a,{onClick:function(){c()},colorScheme:"red",fontWeight:"normal",fontFamily:"mono",textTransform:"uppercase",children:"Disconnect"})})]})})},hn=Object(dn.a)(Ee.a)($t||($t=Object(de.a)(["\n  &::after {\n    box-sizing: inherit;\n    transition: all ease-in-out 0.2s;\n    background: none repeat scroll 0 0 ",";\n    content: '';\n    display: block;\n    height: 2px;\n    width: 0;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n  }\n  &:hover {\n    text-decoration: none;\n    ::after {\n      width: 100%;\n    }\n  }\n"])),he.colors.red[500]),mn=function(){var e=Object(l.useContext)(Oe),t=e.account,n=e.disconnect,r=e.chainId,c=Object(l.useState)(!1),a=Object(ne.a)(c,2),o=a[0],i=a[1],s=Object(O.g)(),d=Object(l.useState)(),u=Object(ne.a)(d,2),j=u[0],b=u[1];Object(l.useEffect)((function(){t&&Be(t).then((function(e){return b(e)}))}),[t]);var h=Object(ge.a)({base:o?"ghost":"link",md:"ghost"});return Object(Q.jsxs)(y.c,{w:"100%",h:"8rem",color:"white",fontFamily:"mono",position:"absolute",top:0,left:0,justify:"space-between",align:"center",children:[Object(Q.jsx)(y.a,{zIndex:5,children:Object(Q.jsx)(x.b,{to:"/",children:Object(Q.jsxs)(y.c,{align:"center",p:"1rem",m:"1rem",children:[Object(Q.jsx)(on.a,{src:cn,alt:"Lyght Code",w:{base:"3rem",sm:"4rem",md:"5rem"}}),Object(Q.jsx)(on.a,{src:un,alt:"Smart Invoice",h:{base:"2rem",sm:"3rem",md:"auto"}})]})})}),Object(Q.jsxs)(y.c,{mx:{base:"2rem",sm:"3rem"},align:"center",height:"8rem",transition:"width 1s ease-out",children:[t&&Object(Q.jsx)(y.c,{justify:"center",align:"center",zIndex:5,children:Object(Q.jsxs)(sn.a,{children:[Object(Q.jsx)(sn.c,{children:Object(Q.jsxs)(Ee.a,{h:"auto",fontWeight:"normal",borderRadius:"full",variant:h,colorScheme:"red",fontFamily:"mono",p:{base:0,md:2},children:[Object(Q.jsx)(y.c,{borderRadius:"50%",w:"2.5rem",h:"2.5rem",overflow:"hidden",justify:"center",align:"center",bgColor:"black",bgImage:j&&"url(".concat(j.imageUrl,")"),border:"1px solid ".concat(he.colors.white20),bgSize:"cover",bgRepeat:"no-repeat",bgPosition:"center center"}),Object(Q.jsx)(y.j,{px:2,display:{base:"none",md:"flex"},fontFamily:"'Roboto Mono', monospace;",color:"red.500",children:j&&j.name?j.name:_(t)}),Object(Q.jsx)(ln.a,{colorScheme:"red",display:{base:"none",md:"flex"},size:"sm",children:X(r)})]})}),Object(Q.jsx)(sn.b,{bg:"none",w:"auto",mx:"4rem",children:Object(Q.jsx)(Ee.a,{onClick:function(){n()},colorScheme:"red",fontWeight:"normal",fontFamily:"mono",textTransform:"uppercase",children:"Disconnect"})})]})}),Object(Q.jsx)(Ee.a,{onClick:function(){return i((function(e){return!e}))},variant:"link",ml:{base:"0.5rem",sm:"1rem"},zIndex:7,children:Object(Q.jsx)(jn,{boxSize:{base:"2rem",sm:"2.75rem"},transition:"all 1s ease-out",_hover:{transition:"all 1s ease-out",transform:"rotateZ(90deg)"},color:"red.500"})})]}),Object(Q.jsxs)(y.c,{zIndex:6,position:"fixed",left:"0",top:"0",bg:"black",h:"100%",w:"100%",direction:"column",justify:"center",align:"center",transition:"all 2s ease-out",pointerEvents:o?"all":"none",css:{clipPath:o?"circle(calc(100vw + 100vh) at 90% -10%)":"circle(100px at 90% -20%)"},children:[t&&j&&r&&Object(Q.jsx)(bn,{account:t,chainId:r,profile:j,disconnect:n}),Object(Q.jsx)(hn,{onClick:function(){s.push("/"),i(!1)},transition:"all 0.5s ease 0.4s",my:"1rem",variant:"link",color:"red.500",fontWeight:"normal",fontSize:"1.5rem",children:"HOME"}),Object(Q.jsx)(y.g,{href:"https://docs.smartinvoice.xyz",isExternal:!0,_hover:{},children:Object(Q.jsx)(hn,{as:"span",transition:"all 0.5s ease 0.4s",my:"1rem",variant:"link",color:"red.500",fontWeight:"normal",fontSize:"1.5rem",children:"FAQ"})}),Object(Q.jsx)(y.g,{href:"https://discord.gg/CanD2WcK7W",isExternal:!0,_hover:{},children:Object(Q.jsx)(hn,{as:"span",transition:"all 0.5s ease 0.4s",my:"1rem",variant:"link",color:"red.500",fontWeight:"normal",fontSize:"1.5rem",children:"SUPPORT"})}),Object(Q.jsx)(an,{center:!0})]})]})},fn=function(e){var t=e.children,n=Object(l.useContext)(Oe).chainId,r=Object(O.h)(),c="/"===r.pathname||"/contracts"===r.pathname,a=-1!==k.e.indexOf(n)||c;return Object(Q.jsxs)(y.c,{position:"relative",w:"100%",direction:"column",justify:"center",align:"center",bg:"black",h:"100%",minH:"100vh",overflowX:"hidden",bgImage:"url(".concat(nn,")"),bgSize:"cover",color:"red.500",children:[Object(Q.jsx)(mn,{})," ",a?t:Object(Q.jsx)(rn,{})," ",Object(Q.jsx)(an,{})]})},xn=function(){return Object(Q.jsxs)(b.a,{theme:he,children:[Object(Q.jsx)(h.b,{initialColorMode:he.config.initialColorMode}),Object(Q.jsx)(m.a,{}),Object(Q.jsx)(f.a,{styles:me}),Object(Q.jsx)(J,{children:Object(Q.jsx)(pe,{children:Object(Q.jsx)(x.a,{children:Object(Q.jsx)(fn,{children:Object(Q.jsxs)(O.d,{children:[Object(Q.jsx)(O.b,{exact:!0,path:"/",component:St}),Object(Q.jsx)(O.b,{exact:!0,path:"/contracts",component:Ae}),Object(Q.jsx)(O.b,{exact:!0,path:"/create",component:wt}),Object(Q.jsx)(O.b,{exact:!0,path:"/invoices",component:Ft}),Object(Q.jsx)(O.b,{exact:!0,path:"/invoice/:hexChainId/:invoiceId",component:tn}),Object(Q.jsx)(O.b,{exact:!0,path:"/invoice/:hexChainId/:invoiceId/locked",component:Ut}),Object(Q.jsx)(O.a,{to:"/"})]})})})})})]})};j.a.render(Object(Q.jsx)(d.a.StrictMode,{children:Object(Q.jsx)(xn,{})}),document.getElementById("root"))},173:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r,c,a=n(50),o=n.p+"static/media/lex-dao.2a10df8e.png",i={INFURA_ID:"078f86fe104b4d3fb0838405549b34ce",IPFS_ENDPOINT:"https://ipfs.infura.io",BOX_ENDPOINT:"https://ipfs.3box.io",NETWORK_CONFIG:{1:{SUBGRAPH:"dan13ram/mainnet-smart-invoices",WRAPPED_NATIVE_TOKEN:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2".toLowerCase(),INVOICE_FACTORY:"0xb7019c3670f5d4dd99166727a7d29f8a16f4f20a".toLowerCase(),TOKENS:Object(a.a)({},"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2".toLowerCase(),{decimals:18,symbol:"WETH"}),RESOLVERS:Object(a.a)({},"0x01b92e2c0d06325089c6fd53c98a214f5c75b2ac".toLowerCase(),{name:"LexDAO",logoUrl:o,termsUrl:"https://github.com/lexDAO/Arbitration/blob/master/rules/ToU.md#lexdao-resolver"})},100:{SUBGRAPH:"dan13ram/xdai-smart-invoices",WRAPPED_NATIVE_TOKEN:"0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d".toLowerCase(),INVOICE_FACTORY:"0x26832d296Be653C1A818B7AaF3D4e5e16A0C314d".toLowerCase(),TOKENS:(r={},Object(a.a)(r,"0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d".toLowerCase(),{decimals:18,symbol:"WXDAI"}),Object(a.a)(r,"0x6A023CCd1ff6F2045C3309768eAd9E68F978f6e1".toLowerCase(),{decimals:18,symbol:"WETH"}),r),RESOLVERS:Object(a.a)({},"0x034CfED494EdCff96f0D7160dC2B55Cae5Ee69E1".toLowerCase(),{name:"LexDAO",logoUrl:o,termsUrl:"https://github.com/lexDAO/Arbitration/blob/master/rules/ToU.md#lexdao-resolver"})},4:{SUBGRAPH:"dan13ram/rinkeby-smart-invoices",WRAPPED_NATIVE_TOKEN:"0xc778417E063141139Fce010982780140Aa0cD5Ab".toLowerCase(),INVOICE_FACTORY:"0x9c94f17C4B7A8E2a75A83466c9F9745a0D9F7e1c".toLowerCase(),TOKENS:(c={},Object(a.a)(c,"0xc778417E063141139Fce010982780140Aa0cD5Ab".toLowerCase(),{decimals:18,symbol:"WETH"}),Object(a.a)(c,"0x3af6b2f907f0c55f279e0ed65751984e6cdc4a42".toLowerCase(),{decimals:18,symbol:"DAI"}),Object(a.a)(c,"0x982e00B16c313E979C0947b85230907Fce45d50e".toLowerCase(),{decimals:18,symbol:"TEST"}),c),RESOLVERS:Object(a.a)({},"0x1206b51217271FC3ffCa57d0678121983ce0390E".toLowerCase(),{name:"LexDAO",logoUrl:o,termsUrl:"https://github.com/lexDAO/Arbitration/blob/master/rules/ToU.md#lexdao-resolver"})},80001:{SUBGRAPH:"lyghtcode/mumbai-smart-invoice-three",WRAPPED_NATIVE_TOKEN:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270".toLowerCase(),INVOICE_FACTORY:"0xfc4E786076C8821c7039d4a4aE03e2341d55e785".toLowerCase(),TOKENS:Object(a.a)({},"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270".toLowerCase(),{decimals:18,symbol:"WMATIC"}),RESOLVERS:Object(a.a)({},"0x034CfED494EdCff96f0D7160dC2B55Cae5Ee69E1".toLowerCase(),{name:"LexDAO",logoUrl:o,termsUrl:"https://github.com/lexDAO/Arbitration/blob/master/rules/ToU.md#lexdao-resolver"})},137:{SUBGRAPH:"lyghtcode/mumbai-smart-invoices",WRAPPED_NATIVE_TOKEN:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270".toLowerCase(),INVOICE_FACTORY:"0xfc4E786076C8821c7039d4a4aE03e2341d55e785".toLowerCase(),TOKENS:Object(a.a)({},"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270".toLowerCase(),{decimals:18,symbol:"WMATIC"}),RESOLVERS:Object(a.a)({},"0x034CfED494EdCff96f0D7160dC2B55Cae5Ee69E1".toLowerCase(),{name:"LexDAO",logoUrl:o,termsUrl:"https://github.com/lexDAO/Arbitration/blob/master/rules/ToU.md#lexdao-resolver"})}}}},225:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var r=n(17),c=n(33),a=n(14),o=n(2),i=n.n(o),s=n(435),l=n.n(s),d=n(436),u=n.n(d),j=n(28),b=new u.a({protocol:"https",host:"api.thegraph.com",port:443,"api-path":"/ipfs/api/v0/"}),h=new u.a({host:"ipfs.infura.io",port:"5001",protocol:"https"}),m=function(){var t=Object(a.a)(i.a.mark((function t(n){var a,o,s,d,u,m,f,x;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(c.a)(Object(c.a)({},n),{},{version:j.b}),o=JSON.stringify(a),s=e.from(o),t.next=5,Promise.all([b.add(s),h.add(s)]);case 5:return d=t.sent,u=Object(r.a)(d,1),m=u[0],f=m[0].hash,t.next=11,b.pin.add(f);case 11:return x=e.from(l.a.decode(f)),t.abrupt("return","0x".concat(x.slice(2).toString("hex")));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(a.a)(i.a.mark((function t(n){var a,o,s,d,u,m,f,x;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(c.a)(Object(c.a)({},n),{},{version:j.b}),o=JSON.stringify(a),s=e.from(o),t.next=5,Promise.all([b.add(s),h.add(s)]);case 5:return d=t.sent,u=Object(r.a)(d,1),m=u[0],f=m[0].hash,t.next=11,b.pin.add(f);case 11:return x=e.from(l.a.decode(f)),t.abrupt("return","0x".concat(x.slice(2).toString("hex")));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(8).Buffer)},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"p",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"k",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"r",(function(){return f})),n.d(t,"q",(function(){return x})),n.d(t,"o",(function(){return O})),n.d(t,"n",(function(){return p})),n.d(t,"s",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return C}));var r=n(173),c=r.a.INFURA_ID,a=r.a.IPFS_ENDPOINT,o=r.a.BOX_ENDPOINT,i=r.a.NETWORK_CONFIG,s={matic:137,mumbai:80001,xdai:100,mainnet:1,rinkeby:4,kovan:42},l={matic:"0x89",mumbai:"0x13881",xdai:"0x64",mainnet:"0x01",rinkeby:"0x04",kovan:"0x2a"},d={80001:"Mumbai",100:"xDai",1:"Ethereum",3:"Ropsten",4:"Rinkeby",5:"G\xf6rli",42:"Kovan",56:"BSC",77:"Sokol",137:"Matic"},u={1:"ETH Mainnet",4:"Rinkeby Testnet",42:"Kovan Testnet",100:"xDai Chain",137:"Polygon Mainnet",80001:"Mumbai Testnet"},j={1:"https://mainnet.infura.io/v3/".concat(c),4:"https://rinkeby.infura.io/v3/".concat(c),42:"https://kovan.infura.io/v3/".concat(c),100:"https://rpc.xdaichain.com",137:"https://rpc-mainnet.matic.network",80001:"https://rpc-mumbai.maticvigil.com"},b={1:"https://etherscan.io",4:"https://rinkeby.etherscan.io",42:"https://kovan.etherscan.io",100:"https://blockscout.com/poa/xdai",137:"https://polygonscan.com/",80001:"https://mumbai.polygonscan.com/"},h={1:"ETH",4:"ETH",42:"ETH",100:"XDAI",137:"MATIC",80001:"MATIC"},m={1:"https://api.thegraph.com/subgraphs/name/".concat(i[1].SUBGRAPH),4:"https://api.thegraph.com/subgraphs/name/".concat(i[4].SUBGRAPH),100:"https://api.thegraph.com/subgraphs/name/".concat(i[100].SUBGRAPH),137:"https://api.thegraph.com/subgraphs/name/".concat(i[137].SUBGRAPH),80001:"https://api.thegraph.com/subgraphs/name/".concat(i[80001].SUBGRAPH)},f={1:Object.keys(i[1].TOKENS),4:Object.keys(i[4].TOKENS),100:Object.keys(i[100].TOKENS),137:Object.keys(i[137].TOKENS),80001:Object.keys(i[80001].TOKENS)},x={1:i[1].TOKENS,4:i[4].TOKENS,100:i[100].TOKENS,137:i[137].TOKENS,80001:i[80001].TOKENS},O={1:Object.keys(i[1].RESOLVERS),4:Object.keys(i[4].RESOLVERS),100:Object.keys(i[100].RESOLVERS),137:Object.keys(i[137].RESOLVERS),80001:Object.keys(i[80001].RESOLVERS)},p={1:i[1].RESOLVERS,4:i[4].RESOLVERS,100:i[100].RESOLVERS,137:i[137].RESOLVERS,80001:i[80001].RESOLVERS},g={1:i[1].WRAPPED_NATIVE_TOKEN,4:i[4].WRAPPED_NATIVE_TOKEN,100:i[100].WRAPPED_NATIVE_TOKEN,137:i[137].WRAPPED_NATIVE_TOKEN,80001:i[80001].WRAPPED_NATIVE_TOKEN},v={1:i[1].INVOICE_FACTORY,4:i[4].INVOICE_FACTORY,100:i[100].INVOICE_FACTORY,137:i[137].INVOICE_FACTORY,80001:i[80001].INVOICE_FACTORY},w=Object.keys(i).map((function(e){return Number(e)})),y="smart-invoice-v0",C={1:{step_title:"Project Details",step_details:["Note: All invoice data will be stored publicly on IPFS and can be viewed by anyone.","If you have privacy concerns, we recommend taking care to add permissions to your project agreement document."],next:"payment details"},2:{step_title:"Payment Details",step_details:[],next:"set payment amounts"},3:{step_title:"Payment Chunks",step_details:[],next:"confirmation"},4:{step_title:"Confirmation",step_details:[],next:"create invoice"}}},395:function(e,t){},777:function(e,t){},827:function(e,t){},858:function(e,t){},860:function(e,t){},879:function(e,t){},881:function(e,t){},893:function(e,t){},915:function(e,t){},917:function(e,t){},919:function(e,t){}},[[1648,1,2]]]);
//# sourceMappingURL=main.22a4214f.chunk.js.map